import{u as x,q as u,x as b,j as e}from"./index-BOTlMoAj.js";import{u as g,t as h,o as p,s as n}from"./zod-CKyyCNA0.js";const f=p({first_name:n().trim().min(1),last_name:n().trim().min(1),email:n().email()});function N(){const{notify:r}=x(),{data:t,updateUser:d}=u(),c=!t,{register:i,handleSubmit:o,formState:{errors:s}}=g({resolver:h(f),values:t}),m=b({mutationFn:async a=>{const l={first_name:a.first_name,last_name:a.last_name};return await d.mutateAsync(l),l},onSuccess:()=>r({title:"Settings saved",variant:"success"})});return c&&!t?e.jsx("div",{children:"Loading settings…"}):e.jsxs("div",{className:"max-w-xl",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Account settings"}),e.jsxs("form",{onSubmit:o(a=>m.mutate(a)),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",htmlFor:"first_name",children:"First name"}),e.jsx("input",{id:"first_name",className:"w-full rounded-md border px-3 py-2 bg-white dark:bg-slate-900",...i("first_name")}),s.first_name&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:s.first_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",htmlFor:"last_name",children:"Last name"}),e.jsx("input",{id:"last_name",className:"w-full rounded-md border px-3 py-2 bg-white dark:bg-slate-900",...i("last_name")}),s.last_name&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:s.last_name.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",htmlFor:"email",children:"Email (read-only)"}),e.jsx("input",{id:"email",type:"email",disabled:!0,className:"w-full rounded-md border px-3 py-2 bg-slate-100 dark:bg-slate-800/40",...i("email")}),s.email&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:s.email.message})]}),e.jsx("button",{disabled:m.isPending,className:"rounded-md bg-emerald-600 text-white px-4 py-2",children:m.isPending?"Saving…":"Save changes"})]})]})}export{N as default};
