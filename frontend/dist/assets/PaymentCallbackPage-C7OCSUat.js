import{z as f,s as m,u,r as p,d as x,j as n}from"./index-BOTlMoAj.js";function d(){const i=f(),t=m(),{notify:a}=u();return p.useEffect(()=>{const o=new URLSearchParams(i.search),c=o.get("reference")||o.get("trxref");if(!c){t("/donations",{replace:!0});return}(async()=>{var l;try{const{data:e}=await x.get(`/payments/verify/${c}/`),s=(l=e==null?void 0:e.data)==null?void 0:l.status;a(s==="success"?{title:"Payment verified",variant:"success"}:{title:"Payment status",description:s||"Unknown",variant:"default"}),t("/donations",{replace:!0})}catch(e){(r=>!!r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"isAxiosError"))(e),a({title:"Payment verification failed",variant:"error"}),t("/donations",{replace:!0})}})()},[i.search,t,a]),n.jsxs("div",{className:"max-w-md mx-auto text-center",children:[n.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Verifying paymentâ€¦"}),n.jsx("p",{className:"text-slate-600",children:"Please wait while we confirm your transaction."})]})}export{d as PaymentCallbackPage};
