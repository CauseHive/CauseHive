import{r as Te,g as gp}from"./index-BOTlMoAj.js";const P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nt="8.55.0",L=globalThis;function Sr(e,t,n){const r=n||L,s=r.__SENTRY__=r.__SENTRY__||{},o=s[Nt]=s[Nt]||{};return o[e]||(o[e]=t())}const jt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_p="Sentry Logger ",bs=["debug","info","warn","error","log","assert","trace"],Es={};function Et(e){if(!("console"in L))return e();const t=L.console,n={},r=Object.keys(Es);r.forEach(s=>{const o=Es[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function yp(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return jt?bs.forEach(n=>{t[n]=(...r)=>{e&&Et(()=>{L.console[n](`${_p}[${n}]:`,...r)})}}):bs.forEach(n=>{t[n]=()=>{}}),t}const y=Sr("logger",yp),Xu=50,rt="?",Ha=/\(error: (.*)\)/,Wa=/captureMessage|captureException/;function Ku(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){const c=i[a];if(c.length>1024)continue;const u=Ha.test(c)?c.replace(Ha,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=Xu+s)break}}return bp(o.slice(s))}}function Sp(e){return Array.isArray(e)?Ku(...e):e}function bp(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Ur(t).function||"")&&t.pop(),t.reverse(),Wa.test(Ur(t).function||"")&&(t.pop(),Wa.test(Ur(t).function||"")&&t.pop()),t.slice(0,Xu).map(n=>({...n,filename:n.filename||Ur(t).filename,function:n.function||rt}))}function Ur(e){return e[e.length-1]||{}}const Io="<anonymous>";function ht(e){try{return!e||typeof e!="function"?Io:e.name||Io}catch{return Io}}function Yo(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ss={},za={};function qt(e,t){ss[e]=ss[e]||[],ss[e].push(t)}function Gt(e,t){if(!za[e]){za[e]=!0;try{t()}catch(n){jt&&y.error(`Error while instrumenting ${e}`,n)}}}function je(e,t){const n=e&&ss[e];if(n)for(const r of n)try{r(t)}catch(s){jt&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(r)}
Error:`,s)}}let To=null;function Ju(e){const t="error";qt(t,e),Gt(t,Ep)}function Ep(){To=L.onerror,L.onerror=function(e,t,n,r,s){return je("error",{column:r,error:s,line:n,msg:e,url:t}),To?To.apply(this,arguments):!1},L.onerror.__SENTRY_INSTRUMENTED__=!0}let ko=null;function Zu(e){const t="unhandledrejection";qt(t,e),Gt(t,vp)}function vp(){ko=L.onunhandledrejection,L.onunhandledrejection=function(e){return je("unhandledrejection",e),ko?ko.apply(this,arguments):!0},L.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function vt(){return Pi(L),L}function Pi(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Nt,t[Nt]=t[Nt]||{}}const Qu=Object.prototype.toString;function dt(e){switch(Qu.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return mt(e,Error)}}function Yn(e,t){return Qu.call(e)===`[object ${t}]`}function el(e){return Yn(e,"ErrorEvent")}function ja(e){return Yn(e,"DOMError")}function wp(e){return Yn(e,"DOMException")}function ft(e){return Yn(e,"String")}function Li(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Fi(e){return e===null||Li(e)||typeof e!="object"&&typeof e!="function"}function un(e){return Yn(e,"Object")}function js(e){return typeof Event<"u"&&mt(e,Event)}function Ip(e){return typeof Element<"u"&&mt(e,Element)}function Tp(e){return Yn(e,"RegExp")}function br(e){return!!(e&&e.then&&typeof e.then=="function")}function kp(e){return un(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function mt(e,t){try{return e instanceof t}catch{return!1}}function tl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Mn=L,Cp=80;function gt(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Cp;for(;n&&o++<r&&(u=xp(n,d),!(u==="html"||o>1&&i+s.length*c+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function xp(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Mn.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&ft(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function $i(){try{return Mn.document.location.href}catch{return""}}function Rp(e){return Mn.document&&Mn.document.querySelector?Mn.document.querySelector(e):null}function nl(e){if(!Mn.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Dt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Co(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function vs(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{tl(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Mp(e,t,n=!1){return ft(e)?Tp(t)?t.test(e):ft(t)?n?e===t:e.includes(t):!1:!1}function Pt(e,t=[],n=!1){return t.some(r=>Mp(e,r,n))}function Me(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&rl(s,r);try{e[t]=s}catch{jt&&y.log(`Failed to replace method "${t}" in object`,e)}}function Pe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{jt&&y.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function rl(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Pe(e,"__sentry_original__",t)}catch{}}function Ui(e){return e.__sentry_original__}function sl(e){if(dt(e))return{message:e.message,name:e.name,stack:e.stack,...Ga(e)};if(js(e)){const t={type:e.type,target:qa(e.target),currentTarget:qa(e.currentTarget),...Ga(e)};return typeof CustomEvent<"u"&&mt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function qa(e){try{return Ip(e)?gt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ga(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Ap(e,t=40){const n=Object.keys(sl(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Dt(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:Dt(o,t)}return""}function _e(e){return Xo(e,new Map)}function Xo(e,t){if(Op(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))typeof e[s]<"u"&&(r[s]=Xo(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Xo(s,t))}),r}return e}function Op(e){if(!un(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const ol=1e3;function Er(){return Date.now()/ol}function Np(){const{performance:e}=L;if(!e||!e.now)return Er;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/ol}const ae=Np(),ke=(()=>{const{performance:e}=L;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return o||u?s<=c?e.timeOrigin:i:r})();function Ae(){const e=L,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function il(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function kt(e){const{message:t,event_id:n}=e;if(t)return t;const r=il(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ko(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function Bt(e,t){const n=il(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s&&s.data,...t.data};n.mechanism.data=o}}function Dp(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>Co(i,0));const o=Math.min(r-1,s);t.context_line=Co(e[o],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>Co(i,0))}function Va(e){if(Pp(e))return!0;try{Pe(e,"__sentry_captured__",!0)}catch{}return!1}function Pp(e){try{return e.__sentry_captured__}catch{}}var ut;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ut||(ut={}));function _t(e){return new ze(t=>{t(e)})}function ws(e){return new ze((t,n)=>{n(e)})}class ze{constructor(t){ze.prototype.__init.call(this),ze.prototype.__init2.call(this),ze.prototype.__init3.call(this),ze.prototype.__init4.call(this),this._state=ut.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new ze((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ze((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(ut.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ut.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ut.PENDING){if(br(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ut.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ut.RESOLVED&&n[1](this._value),this._state===ut.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Lp(e){const t=ae(),n={sid:Ae(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>$p(n)};return e&&Nn(n,e),n}function Nn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ae(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ae()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Fp(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Nn(e,n)}function $p(e){return _e({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function yt(){return Ae()}function Ht(){return Ae().substring(16)}function qs(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=qs(r[s],t[s],n-1));return r}const Jo="_sentrySpan";function ln(e,t){t?Pe(e,Jo,t):delete e[Jo]}function Is(e){return e[Jo]}const Up=100;class Bi{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:yt(),spanId:Ht()}}clone(){const t=new Bi;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ln(t,Is(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Nn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof Wt?[n.getScopeData(),n.getRequestSession()]:un(n)?[t,t.requestSession]:[],{tags:o,extra:i,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,ln(this,void 0),this._attachments=[],this.setPropagationContext({traceId:yt()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Up;if(r<=0)return this;const s={timestamp:Er(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Is(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=qs(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Ht(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ae();if(!this._client)return y.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Ae();if(!this._client)return y.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ae();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(y.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Wt=Bi;function Bp(){return Sr("defaultCurrentScope",()=>new Wt)}function Hp(){return Sr("defaultIsolationScope",()=>new Wt)}class Wp{constructor(t,n){let r;t?r=t:r=new Wt;let s;n?s=n:s=new Wt,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return br(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Dn(){const e=vt(),t=Pi(e);return t.stack=t.stack||new Wp(Bp(),Hp())}function zp(e){return Dn().withScope(e)}function jp(e,t){const n=Dn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Ya(e){return Dn().withScope(()=>e(Dn().getIsolationScope()))}function qp(){return{withIsolationScope:Ya,withScope:zp,withSetScope:jp,withSetIsolationScope:(e,t)=>Ya(t),getCurrentScope:()=>Dn().getScope(),getIsolationScope:()=>Dn().getIsolationScope()}}function Vt(e){const t=Pi(e);return t.acs?t.acs:qp()}function W(){const e=vt();return Vt(e).getCurrentScope()}function Ee(){const e=vt();return Vt(e).getIsolationScope()}function Hi(){return Sr("globalScope",()=>new Wt)}function qe(...e){const t=vt(),n=Vt(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function o1(...e){const t=vt(),n=Vt(t);if(e.length===2){const[r,s]=e;return r?n.withSetIsolationScope(r,s):n.withIsolationScope(s)}return n.withIsolationScope(e[0])}function x(){return W().getClient()}function Gp(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return _e({trace_id:n,span_id:r,parent_span_id:s})}const Zo="_sentryMetrics";function Qo(e){const t=e[Zo];if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(_e(s));return n}function Vp(e,t,n,r,s,o,i){const c=e[Zo]||(e[Zo]=new Map),u=`${t}:${n}@${s}`,d=c.get(i);if(d){const[,l]=d;c.set(i,[u,{min:Math.min(l.min,r),max:Math.max(l.max,r),count:l.count+=1,sum:l.sum+=r,tags:l.tags}])}else c.set(i,[u,{min:r,max:r,count:1,sum:r,tags:o}])}const he="sentry.source",al="sentry.sample_rate",Oe="sentry.op",Z="sentry.origin",ei="sentry.idle_span_finish_reason",Gs="sentry.measurement_unit",Vs="sentry.measurement_value",ti="sentry.custom_span_name",Yp="sentry.profile_id",Wi="sentry.exclusive_time",Xp=0,cl=1,Se=2;function Kp(e){if(e<400&&e>=100)return{code:cl};if(e>=400&&e<500)switch(e){case 401:return{code:Se,message:"unauthenticated"};case 403:return{code:Se,message:"permission_denied"};case 404:return{code:Se,message:"not_found"};case 409:return{code:Se,message:"already_exists"};case 413:return{code:Se,message:"failed_precondition"};case 429:return{code:Se,message:"resource_exhausted"};case 499:return{code:Se,message:"cancelled"};default:return{code:Se,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Se,message:"unimplemented"};case 503:return{code:Se,message:"unavailable"};case 504:return{code:Se,message:"deadline_exceeded"};default:return{code:Se,message:"internal_error"}}return{code:Se,message:"unknown_error"}}function ul(e,t){e.setAttribute("http.response.status_code",t);const n=Kp(t);n.message!=="unknown_error"&&e.setStatus(n)}const zi="sentry-",Jp=/^sentry-/,Zp=8192;function ll(e){const t=Qp(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(Jp)){const i=s.slice(zi.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function dl(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${zi}${r}`]=s),n),{});return eh(t)}function Qp(e){if(!(!e||!ft(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Xa(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):Xa(e)}function Xa(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function eh(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>Zp?(jt&&y.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const fl=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function th(e){if(!e)return;const t=e.match(fl);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function pl(e,t){const n=th(e),r=ll(t);if(!n||!n.traceId)return{traceId:yt(),spanId:Ht()};const{traceId:s,parentSpanId:o,parentSampled:i}=n,a=Ht();return{traceId:s,parentSpanId:o,spanId:a,sampled:i,dsc:r||{}}}function hl(e=yt(),t=Ht(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const ml=0,gl=1;let Ka=!1;function nh(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a}=H(e);return _e({parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a})}function rh(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:H(e).parent_span_id,o=r?Ht():t;return _e({parent_span_id:s,span_id:o,trace_id:n})}function sh(e){const{traceId:t,spanId:n}=e.spanContext(),r=fn(e);return hl(t,n,r)}function sn(e){return typeof e=="number"?Ja(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ja(e.getTime()):ae()}function Ja(e){return e>9999999999?e/1e3:e}function H(e){if(ih(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(oh(e)){const{attributes:r,startTime:s,name:o,endTime:i,parentSpanId:a,status:c}=e;return _e({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:sn(s),timestamp:sn(i)||void 0,status:_l(c),op:r[Oe],origin:r[Z],_metrics_summary:Qo(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function oh(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function ih(e){return typeof e.getSpanJSON=="function"}function fn(e){const{traceFlags:t}=e.spanContext();return t===gl}function _l(e){if(!(!e||e.code===Xp))return e.code===cl?"ok":e.message||"unknown_error"}const on="_sentryChildSpans",ni="_sentryRootSpan";function yl(e,t){const n=e[ni]||e;Pe(t,ni,n),e[on]?e[on].add(t):Pe(e,on,new Set([t]))}function ah(e,t){e[on]&&e[on].delete(t)}function os(e){const t=new Set;function n(r){if(!t.has(r)&&fn(r)){t.add(r);const s=r[on]?Array.from(r[on]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function me(e){return e[ni]||e}function fe(){const e=vt(),t=Vt(e);return t.getActiveSpan?t.getActiveSpan():Is(W())}function ch(e,t,n,r,s,o){const i=fe();i&&Vp(i,e,t,n,r,s,o)}function Sl(){Ka||(Et(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Ka=!0)}function i1(e,t){e.updateName(t),e.setAttributes({[he]:"custom",[ti]:t})}let Za=!1;function bl(){Za||(Za=!0,Ju(ri),Zu(ri))}function ri(){const e=fe(),t=e&&me(e);if(t){const n="internal_error";P&&y.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Se,message:n})}}ri.tag="sentry_tracingErrorCallback";const El="_sentryScope",vl="_sentryIsolationScope";function uh(e,t,n){e&&(Pe(e,vl,n),Pe(e,El,t))}function Qa(e){return{scope:e[El],isolationScope:e[vl]}}function a1(){bl()}function zt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=x(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Yt{constructor(t={}){this._traceId=t.traceId||yt(),this._spanId=t.spanId||Ht()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:ml}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function ji(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return lh(r,t,n)}function lh(e,t,n){return br(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}const Ys="production",wl="_frozenDsc";function ec(e,t){Pe(e,wl,t)}function Il(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=_e({environment:n.environment||Ys,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Tl(e,t){const n=t.getPropagationContext();return n.dsc||Il(n.traceId,e)}function Xt(e){const t=x();if(!t)return{};const n=me(e),r=n[wl];if(r)return r;const s=n.spanContext().traceState,o=s&&s.get("sentry.dsc"),i=o&&ll(o);if(i)return i;const a=Il(e.spanContext().traceId,t),c=H(n),u=c.data||{},d=u[al];d!=null&&(a.sample_rate=`${d}`);const l=u[he],f=c.description;return l!=="url"&&f&&(a.transaction=f),zt()&&(a.sampled=String(fn(n))),t.emit("createDsc",a,n),a}function c1(e){const t=Xt(e);return dl(t)}function dh(e){if(!P)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=H(e),{spanId:s}=e.spanContext(),o=fn(e),i=me(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=H(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}y.log(`${c}
  ${u.join(`
  `)}`)}function fh(e){if(!P)return;const{description:t="< unknown name >",op:n="< unknown op >"}=H(e),{spanId:r}=e.spanContext(),o=me(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;y.log(i)}function Ts(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){P&&y.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function ph(e,t){if(!zt(e))return[!1];const n=Ee().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let s;typeof e.tracesSampler=="function"?s=e.tracesSampler(r):r.parentSampled!==void 0?s=r.parentSampled:typeof e.tracesSampleRate<"u"?s=e.tracesSampleRate:s=1;const o=Ts(s);return o===void 0?(P&&y.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(P&&y.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[!1,o]):(P&&y.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}const hh=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function mh(e){return e==="http"||e==="https"}function pn(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function kl(e){const t=hh.exec(e);if(!t){Et(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Cl({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function Cl(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function gh(e){if(!jt)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(y.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?mh(r)?t&&isNaN(parseInt(t,10))?(y.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(y.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(y.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function xl(e){const t=typeof e=="string"?kl(e):Cl(e);if(!(!t||!gh(t)))return t}function _h(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let o=0;o<t.length;o++)if(t[o]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let o=0;o<t.length;o++)if(t[o]===s){t.splice(o,1);break}}return[n,r]}function We(e,t=100,n=1/0){try{return si("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Rl(e,t=3,n=100*1024){const r=We(e,t);return Eh(r)>n?Rl(e,t-1,n):r}function si(e,t,n=1/0,r=1/0,s=_h()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=yh(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return si("",p,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=sl(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=si(p,h,c-1,r,s),l++}return i(t),d}function yh(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(tl(t))return"[VueViewModel]";if(kp(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ht(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Sh(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Sh(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function bh(e){return~-encodeURI(e).split(/%..|./).length}function Eh(e){return bh(JSON.stringify(e))}function wt(e,t=[]){return[e,t]}function vh(e,t){const[n,r]=e;return[n,[...r,t]]}function dn(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function tc(e,t){return dn(e,(n,r)=>t.includes(r))}function ks(e){return L.__SENTRY__&&L.__SENTRY__.encodePolyfill?L.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function wh(e){return L.__SENTRY__&&L.__SENTRY__.decodePolyfill?L.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e)}function Cs(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[ks(r),o]:r.push(typeof o=="string"?ks(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(We(a))}s(c)}}return typeof r=="string"?r:Ih(r)}function Ih(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Th(e){let t=typeof e=="string"?ks(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(wh(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function kh(e){return[{type:"span"},e]}function Ch(e){const t=typeof e.data=="string"?ks(e.data):e.data;return[_e({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const xh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function nc(e){return xh[e]}function qi(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ml(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:pn(r)},...s&&{trace:_e({...s})}}}function Rh(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Mh(e,t,n,r){const s=qi(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:pn(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return wt(o,[i])}function Ah(e,t,n,r){const s=qi(n),o=e.type&&e.type!=="replay_event"?e.type:"event";Rh(e,n&&n.sdk);const i=Ml(e,s,r,t);return delete e.sdkProcessingMetadata,wt(i,[[{type:o},e]])}function Oh(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=Xt(e[0]),s=t&&t.getDsn(),o=t&&t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:pn(s)}},a=t&&t.getOptions().beforeSendSpan,c=a?d=>{const l=a(H(d));return l||Sl(),l}:d=>H(d),u=[];for(const d of e){const l=c(d);l&&u.push(kh(l))}return wt(i,u)}function Nh(e,t,n,r=fe()){const s=r&&me(r);s&&(P&&y.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Vs]:t,[Gs]:n}))}function rc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Gs],o=r[Vs];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const sc=1e3;class Gi{constructor(t={}){this._traceId=t.traceId||yt(),this._spanId=t.spanId||Ht(),this._startTime=t.startTimestamp||ae(),this._attributes={},this.setAttributes({[Z]:"manual",[Oe]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?gl:ml}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=sn(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(he,"custom"),this}end(t){this._endTime||(this._endTime=sn(t),fh(this),this._onSpanEnded())}getSpanJSON(){return _e({data:this._attributes,description:this._name,op:this._attributes[Oe],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:_l(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Z],_metrics_summary:Qo(this),profile_id:this._attributes[Yp],exclusive_time:this._attributes[Wi],measurements:rc(this._events),is_segment:this._isStandaloneSpan&&me(this)===this||void 0,segment_id:this._isStandaloneSpan?me(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){P&&y.log("[Tracing] Adding an event to span:",t);const s=oc(n)?n:r||ae(),o=oc(n)?{}:n||{},i={name:t,time:sn(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=x();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===me(this)))return;if(this._isStandaloneSpan){this._sampled?Ph(Oh([this],t)):(P&&y.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Qa(this).scope||W()).captureEvent(r)}_convertSpanToTransaction(){if(!ic(H(this)))return;this._name||(P&&y.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Qa(this),s=(t||W()).getClient()||x();if(this._sampled!==!0){P&&y.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const i=os(this).filter(l=>l!==this&&!Dh(l)).map(l=>H(l)).filter(ic),a=this._attributes[he];delete this._attributes[ti],i.forEach(l=>{l.data&&delete l.data[ti]});const c={contexts:{trace:nh(this)},spans:i.length>sc?i.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,sc):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,..._e({dynamicSamplingContext:Xt(this)})},_metrics_summary:Qo(this),...a&&{transaction_info:{source:a}}},u=rc(this._events);return u&&Object.keys(u).length&&(P&&y.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}}function oc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function ic(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Dh(e){return e instanceof Gi&&e.isStandaloneSpan()}function Ph(e){const t=x();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const Vi="__SENTRY_SUPPRESS_TRACING__";function u1(e,t){const n=vr();if(n.startSpan)return n.startSpan(e,t);const r=Xi(e),{forceTransaction:s,parentSpan:o}=e;return qe(e.scope,()=>Al(o)(()=>{const a=W(),c=Ki(a),d=e.onlyIfParent&&!c?new Yt:Yi({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});return ln(a,d),ji(()=>t(d),()=>{const{status:l}=H(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:Se,message:"internal_error"})},()=>d.end())}))}function Lh(e,t){const n=vr();if(n.startSpanManual)return n.startSpanManual(e,t);const r=Xi(e),{forceTransaction:s,parentSpan:o}=e;return qe(e.scope,()=>Al(o)(()=>{const a=W(),c=Ki(a),d=e.onlyIfParent&&!c?new Yt:Yi({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});ln(a,d);function l(){d.end()}return ji(()=>t(d,l),()=>{const{status:f}=H(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:Se,message:"internal_error"})})}))}function nt(e){const t=vr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Xi(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>qe(e.scope,i):s!==void 0?i=>Pn(s,i):i=>i())(()=>{const i=W(),a=Ki(i);return e.onlyIfParent&&!a?new Yt:Yi({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const l1=(e,t)=>{const n=vt(),r=Vt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:s,baggage:o}=e;return qe(i=>{const a=pl(s,o);return i.setPropagationContext(a),t()})};function Pn(e,t){const n=vr();return n.withActiveSpan?n.withActiveSpan(e,t):qe(r=>(ln(r,e||void 0),t(r)))}function d1(e){const t=vr();return t.suppressTracing?t.suppressTracing(e):qe(n=>(n.setSDKProcessingMetadata({[Vi]:!0}),e()))}function f1(e){return qe(t=>(t.setPropagationContext({traceId:yt()}),P&&y.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Pn(null,e)))}function Yi({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!zt())return new Yt;const s=Ee();let o;if(e&&!n)o=Fh(e,r,t),yl(e,o);else if(e){const i=Xt(e),{traceId:a,spanId:c}=e.spanContext(),u=fn(e);o=ac({traceId:a,parentSpanId:c,...t},r,u),ec(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=ac({traceId:i,parentSpanId:c,...t},r,u),a&&ec(o,a)}return dh(o),uh(o,r,s),o}function Xi(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=sn(e.startTime),delete r.startTime,r}return n}function vr(){const e=vt();return Vt(e)}function ac(e,t,n){const r=x(),s=r&&r.getOptions()||{},{name:o="",attributes:i}=e,[a,c]=t.getScopeData().sdkProcessingMetadata[Vi]?[!1]:ph(s,{name:o,parentSampled:n,attributes:i,transactionContext:{name:o,parentSampled:n}}),u=new Gi({...e,attributes:{[he]:"custom",...e.attributes},sampled:a});return c!==void 0&&u.setAttribute(al,c),r&&r.emit("spanStart",u),u}function Fh(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[Vi]?!1:fn(e),i=o?new Gi({...n,parentSpanId:r,traceId:s,sampled:o}):new Yt({traceId:s});yl(e,i);const a=x();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function Ki(e){const t=Is(e);if(!t)return;const n=x();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?me(t):t}function Al(e){return e!==void 0?t=>Pn(e,t):t=>t()}const is={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},$h="heartbeatFailed",Uh="idleTimeout",Bh="finalTimeout",Hh="externalFinish";function Ol(e,t={}){const n=new Map;let r=!1,s,o=Hh,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=is.idleTimeout,finalTimeout:u=is.finalTimeout,childSpanTimeout:d=is.childSpanTimeout,beforeSpanEnd:l}=t,f=x();if(!f||!zt())return new Yt;const p=W(),h=fe(),g=Wh(e);g.end=new Proxy(g.end,{apply(E,C,R){l&&l(g);const[m,...b]=R,T=m||ae(),w=sn(T),B=os(g).filter(F=>F!==g);if(!B.length)return k(w),Reflect.apply(E,C,[w,...b]);const V=B.map(F=>H(F).timestamp).filter(F=>!!F),z=V.length?Math.max(...V):void 0,A=H(g).start_timestamp,ce=Math.min(A?A+u/1e3:1/0,Math.max(A||-1/0,Math.min(w,z||1/0)));return k(ce),Reflect.apply(E,C,[ce,...b])}});function S(){s&&(clearTimeout(s),s=void 0)}function _(E){S(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=Uh,g.end(E))},c)}function v(E){s=setTimeout(()=>{!r&&i&&(o=$h,g.end(E))},d)}function O(E){S(),n.set(E,!0);const C=ae();v(C+d/1e3)}function M(E){if(n.has(E)&&n.delete(E),n.size===0){const C=ae();_(C+c/1e3)}}function k(E){r=!0,n.clear(),a.forEach(w=>w()),ln(p,h);const C=H(g),{start_timestamp:R}=C;if(!R)return;(C.data||{})[ei]||g.setAttribute(ei,o),y.log(`[Tracing] Idle span "${C.op}" finished`);const b=os(g).filter(w=>w!==g);let T=0;b.forEach(w=>{w.isRecording()&&(w.setStatus({code:Se,message:"cancelled"}),w.end(E),P&&y.log("[Tracing] Cancelling span since span ended early",JSON.stringify(w,void 0,2)));const B=H(w),{timestamp:V=0,start_timestamp:z=0}=B,A=z<=E,ce=(u+c)/1e3,F=V-z<=ce;if(P){const te=JSON.stringify(w,void 0,2);A?F||y.log("[Tracing] Discarding span since it finished after idle span final timeout",te):y.log("[Tracing] Discarding span since it happened after idle span was finished",te)}(!F||!A)&&(ah(g,w),T++)}),T>0&&g.setAttribute("sentry.idle_span_discarded_spans",T)}return a.push(f.on("spanStart",E=>{if(r||E===g||H(E).timestamp)return;os(g).includes(E)&&O(E.spanContext().spanId)})),a.push(f.on("spanEnd",E=>{r||M(E.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",E=>{E===g&&(i=!0,_(),n.size&&v())})),t.disableAutoFinish||_(),setTimeout(()=>{r||(g.setStatus({code:Se,message:"deadline_exceeded"}),o=Bh,g.end())},u),g}function Wh(e){const t=nt(e);return ln(W(),t),P&&y.log("[Tracing] Started span is an idle span"),t}function oi(e,t,n,r=0){return new ze((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const a=i({...t},n);P&&i.id&&a===null&&y.log(`Event processor "${i.id}" dropped event`),br(a)?a.then(c=>oi(e,c,n,r+1).then(s)).then(null,o):oi(e,a,n,r+1).then(s).then(null,o)}})}let Br,cc,Hr;function Nl(e){const t=L._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Hr&&n.length===cc||(cc=n.length,Hr=n.reduce((r,s)=>{Br||(Br={});const o=Br[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let a=i.length-1;a>=0;a--){const c=i[a],u=c&&c.filename,d=t[s];if(u&&d){r[u]=d,Br[s]=[u,d];break}}}return r},{})),Hr}function zh(e,t){const n=Nl(e);if(!n)return[];const r=[];for(const s of t)s&&n[s]&&r.push({type:"sourcemap",code_file:s,debug_id:n[s]});return r}function jh(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;qh(e,t),r&&Yh(e,r),Xh(e,n),Gh(e,s),Vh(e,o)}function uc(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;Wr(e,"extra",n),Wr(e,"tags",r),Wr(e,"user",s),Wr(e,"contexts",o),e.sdkProcessingMetadata=qs(e.sdkProcessingMetadata,a,2),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Wr(e,t,n){e[t]=qs(e[t],n,1)}function qh(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t,c=_e(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=_e(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=_e(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const l=_e(o);l&&Object.keys(l).length&&(e.contexts={...l,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function Gh(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Vh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Yh(e,t){e.contexts={trace:rh(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Xt(t),...e.sdkProcessingMetadata};const n=me(t),r=H(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Xh(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Dl(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ae(),timestamp:t.timestamp||Er()},u=n.integrations||e.integrations.map(S=>S.name);Kh(c,e),Qh(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Jh(c,e.stackParser);const d=tm(r,n.captureContext);n.mechanism&&Bt(c,n.mechanism);const l=s?s.getEventProcessors():[],f=Hi().getScopeData();if(o){const S=o.getScopeData();uc(f,S)}if(d){const S=d.getScopeData();uc(f,S)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),jh(c,f);const h=[...l,...f.eventProcessors];return oi(h,c,n).then(S=>(S&&Zh(S),typeof i=="number"&&i>0?em(S,i,a):S))}function Kh(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||Ys,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s),e.message&&(e.message=Dt(e.message,o));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=Dt(i.value,o));const a=e.request;a&&a.url&&(a.url=Dt(a.url,o))}function Jh(e,t){const n=Nl(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{n&&s.filename&&(s.debug_id=n[s.filename])})})}catch{}}function Zh(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Qh(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function em(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:We(s.data,t,n)}}))},...e.user&&{user:We(e.user,t,n)},...e.contexts&&{contexts:We(e.contexts,t,n)},...e.extra&&{extra:We(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=We(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:We(s.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=We(e.contexts.flags,3,n)),r}function tm(e,t){if(!t)return e;const n=e?e.clone():new Wt;return n.update(t),n}function nm(e){if(e)return rm(e)?{captureContext:e}:om(e)?{captureContext:e}:e}function rm(e){return e instanceof Wt||typeof e=="function"}const sm=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function om(e){return Object.keys(e).some(t=>sm.includes(t))}function Xs(e,t){return W().captureException(e,nm(t))}function ii(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return W().captureMessage(e,n,r)}function wr(e,t){return W().captureEvent(e,t)}function Ji(e,t){Ee().setContext(e,t)}function im(e){Ee().setExtras(e)}function am(e,t){Ee().setExtra(e,t)}function cm(e){Ee().setTags(e)}function um(e,t){Ee().setTag(e,t)}function lm(e){Ee().setUser(e)}function dm(){return Ee().lastEventId()}async function p1(e){const t=x();return t?t.flush(e):(P&&y.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function h1(e){const t=x();return t?t.close(e):(P&&y.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function m1(){return!!x()}function fm(){const e=x();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function pm(e){Ee().addEventProcessor(e)}function ai(e){const t=x(),n=Ee(),r=W(),{release:s,environment:o=Ys}=t&&t.getOptions()||{},{userAgent:i}=L.navigator||{},a=Lp({release:s,environment:o,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&c.status==="ok"&&Nn(c,{status:"exited"}),xs(),n.setSession(a),r.setSession(a),a}function xs(){const e=Ee(),t=W(),n=t.getSession()||e.getSession();n&&Fp(n),Pl(),e.setSession(),t.setSession()}function Pl(){const e=Ee(),t=W(),n=x(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function lc(e=!1){if(e){xs();return}Pl()}const hm="7";function Ll(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function mm(e){return`${Ll(e)}${e.projectId}/envelope/`}function gm(e,t){const n={sentry_version:hm};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Fl(e,t,n){return t||`${mm(e)}?${gm(e,n)}`}function _m(e,t){const n=xl(e);if(!n)return"";const r=`${Ll(n)}embed/error-page/`;let s=`dsn=${pn(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const dc=[];function ym(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Sm(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;const s=ym(r),o=s.findIndex(i=>i.name==="Debug");if(o>-1){const[i]=s.splice(o,1);s.push(i)}return s}function bm(e,t){const n={};return t.forEach(r=>{r&&$l(e,r,n)}),n}function fc(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function $l(e,t,n){if(n[t.name]){P&&y.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,dc.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),dc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}P&&y.log(`Integration installed: ${t.name}`)}function pc(e){const t=x();if(!t){P&&y.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Em(e,t,n){const r=[{type:"client_report"},{timestamp:Er(),discarded_events:e}];return wt(t?{dsn:t}:{},[r])}class Je extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const hc="Not capturing exception because it's already been captured.";class vm{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=xl(t.dsn):P&&y.warn("No DSN provided, client will not send events."),this._dsn){const s=Fl(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(s=>s in t&&t[s]==null);r&&Et(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Ae();if(Va(t))return P&&y.log(hc),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:Ae(),...r},i=Li(t)?t:String(t),a=Fi(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=Ae();if(n&&n.originalException&&Va(n.originalException))return P&&y.log(hc),s;const o={event_id:s,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?P&&y.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Nn(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):_t(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];$l(this,t,this._integrations),n||fc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Ah(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=vh(r,Ch(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=Mh(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,o=`${t}:${n}`;P&&y.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(P&&y.error("Error while sending envelope:",n),n)):(P&&y.error("Transport disabled"),_t({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=bm(this,t),fc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const o=n.exception&&n.exception.values;if(o){s=!0;for(const c of o){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(Nn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ze(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=W(),s=Ee()){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Dl(o,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:Gp(r),...a.contexts};const c=Tl(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{P&&(s instanceof Je&&s.logLevel==="log"?y.log(s.message):y.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:o}=s,i=Bl(t),a=Ul(t),c=t.type||"error",u=`before send for type \`${c}\``,d=typeof o>"u"?void 0:Ts(o);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),ws(new Je(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,t),new Je("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const S=Im(this,s,h,n);return wm(S,u)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",l,t),i){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new Je(`${u} returned \`null\`, will not send event.`,"log")}const g=r&&r.getSession();if(!i&&g&&this._updateSessionFromEvent(g,h),i){const _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0,v=h.spans?h.spans.length:0,O=_-v;O>0&&this.recordDroppedEvent("before_send","span",O)}const S=h.transaction_info;if(i&&S&&h.transaction!==t.transaction){const _="custom";h.transaction_info={...S,source:_}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof Je?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new Je(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){P&&y.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){P&&y.log("No outcomes to send");return}if(!this._dsn){P&&y.log("No dsn provided, will not send outcomes");return}P&&y.log("Sending outcomes:",t);const n=Em(t,this._options.tunnel&&pn(this._dsn));this.sendEnvelope(n)}}function wm(e,t){const n=`${t} must return \`null\` or a valid event.`;if(br(e))return e.then(r=>{if(!un(r)&&r!==null)throw new Je(n);return r},r=>{throw new Je(`${t} rejected with ${r}`)});if(!un(e)&&e!==null)throw new Je(n);return e}function Im(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;if(Ul(n)&&s)return s(n,r);if(Bl(n)){if(n.spans&&i){const a=[];for(const c of n.spans){const u=i(c);u?a.push(u):(Sl(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(o){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return o(n,r)}}return n}function Ul(e){return e.type===void 0}function Bl(e){return e.type==="transaction"}function Tm(e,t){t.debug===!0&&(P?y.enable():Et(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),W().update(t.initialScope);const r=new e(t);return km(r),r.init(),r}function km(e){W().setClient(e)}function Cm(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return ws(new Je("Not adding Promise because buffer limit was reached."));const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new ze((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{_t(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const xm=60*1e3;function Hl(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?xm:r-t}function Rm(e,t){return e[t]||e.all||0}function Wl(e,t,n=Date.now()){return Rm(e,t)>n}function zl(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+Hl(i,r):t===429&&(s.all=r+60*1e3);return s}const Mm=64;function Am(e,t,n=Cm(e.bufferSize||Mm)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(dn(i,(l,f)=>{const p=nc(f);if(Wl(r,p)){const h=mc(l,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(l)}),a.length===0)return _t({});const c=wt(i[0],a),u=l=>{dn(c,(f,p)=>{const h=mc(f,p);e.recordDroppedEvent(l,nc(p),h)})},d=()=>t({body:Cs(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&P&&y.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=zl(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof Je)return P&&y.error("Skipped sending event because buffer is full."),u("queue_overflow"),_t({});throw l})}return{send:o,flush:s}}function mc(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const xo=100,Ro=5e3,Om=36e5;function Nm(e){function t(...n){P&&y.info("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=Ro,i;function a(l,f,p){return tc(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const f=await s.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,Om))}async function d(l,f=!1){if(!f&&tc(l,["replay_event","replay_recording"]))return await s.push(l),c(xo),{};try{const p=await r.send(l);let h=xo;if(p){if(p.headers&&p.headers["retry-after"])h=Hl(p.headers["retry-after"]);else if(p.headers&&p.headers["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),o=Ro,p}catch(p){if(await a(l,p,o))return f?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(o=Ro,c(xo)),r.flush(l))}}}function jl(e,t){let n;return dn(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Dm(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=jl(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function Pm(e,t){return wt(t?{...e[0],dsn:t}:e[0],e[1])}function g1(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const f=kl(c);if(!f)return;const p=Fl(f,n.tunnel);l=u?Dm(e,u)({...n,url:p}):e({...n,url:p}),s.set(d,l)}return[c,l]}async function i(c){function u(p){const h=p&&p.length?p:["event"];return jl(c,h)}const d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?o(p,void 0):o(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,h])=>h.send(Pm(c,p)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}function ql(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return Fm(e,n)||Lm(e,r)}function Lm(e,t){return t?gc(e)===gc(t):!1}function Fm(e,t){return t?e.includes(t.host):!1}function gc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function _1(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function Gl(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Nt})),version:Nt}),e._metadata=s}function Vl(e={}){const t=x();if(!fm()||!t)return{};const n=vt(),r=Vt(n);if(r.getTraceData)return r.getTraceData(e);const s=W(),o=e.span||fe(),i=o?sh(o):$m(s),a=o?Xt(o):Tl(t,s),c=dl(a);return fl.test(i)?{"sentry-trace":i,baggage:c}:(y.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function $m(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return hl(t,r,n)}const Um=100;function st(e,t){const n=x(),r=Ee();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Um}=n.getOptions();if(o<=0)return;const a={timestamp:Er(),...e},c=s?Et(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let _c;const Bm="FunctionToString",yc=new WeakMap,Hm=()=>({name:Bm,setupOnce(){_c=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ui(this),n=yc.has(x())&&t!==void 0?t:this;return _c.apply(n,e)}}catch{}},setup(e){yc.set(e,!0)}}),Wm=Hm,zm=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],jm="InboundFilters",qm=(e={})=>({name:jm,processEvent(t,n,r){const s=r.getOptions(),o=Vm(e,s);return Ym(t,o)?null:t}}),Gm=qm;function Vm(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:zm],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Ym(e,t){return t.ignoreInternal&&eg(e)?(P&&y.warn(`Event dropped due to being internal Sentry Error.
Event: ${kt(e)}`),!0):Xm(e,t.ignoreErrors)?(P&&y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${kt(e)}`),!0):ng(e)?(P&&y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${kt(e)}`),!0):Km(e,t.ignoreTransactions)?(P&&y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${kt(e)}`),!0):Jm(e,t.denyUrls)?(P&&y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${kt(e)}.
Url: ${Rs(e)}`),!0):Zm(e,t.allowUrls)?!1:(P&&y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${kt(e)}.
Url: ${Rs(e)}`),!0)}function Xm(e,t){return e.type||!t||!t.length?!1:Qm(e).some(n=>Pt(n,t))}function Km(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Pt(n,t):!1}function Jm(e,t){if(!t||!t.length)return!1;const n=Rs(e);return n?Pt(n,t):!1}function Zm(e,t){if(!t||!t.length)return!0;const n=Rs(e);return n?Pt(n,t):!0}function Qm(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function eg(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function tg(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Rs(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?tg(t):null}catch{return P&&y.error(`Cannot extract url for event ${kt(e)}`),null}}function ng(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function rg(e,t,n=250,r,s,o,i){if(!o.exception||!o.exception.values||!i||!mt(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=sg(ci(e,t,s,i.originalException,r,o.exception.values,a,0),n))}function ci(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(mt(r[s],Error)){Sc(i,a);const u=e(t,r[s]),d=c.length;bc(u,s,d,a),c=ci(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(mt(u,Error)){Sc(i,a);const l=e(t,u),f=c.length;bc(l,`errors[${d}]`,f,a),c=ci(e,t,n,u,s,[l,...c],l,f)}}),c}function Sc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function bc(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function sg(e,t){return e.map(n=>(n.value&&(n.value=Dt(n.value,t)),n))}const Yl=new Map,Ec=new Set;function og(e){if(L._sentryModuleMetadata)for(const t of Object.keys(L._sentryModuleMetadata)){const n=L._sentryModuleMetadata[t];if(Ec.has(t))continue;Ec.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){Yl.set(s.filename,n);break}}}function ig(e,t){return og(e),Yl.get(t)}function Xl(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=ig(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function Kl(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const y1=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{dn(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(Kl(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;Xl(n,t)})}});function an(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ag(e){return e.split(/[?#]/,1)[0]}function vc(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}function Jl(e){const t="console";qt(t,e),Gt(t,cg)}function cg(){"console"in L&&bs.forEach(function(e){e in L.console&&Me(L.console,e,function(t){return Es[e]=t,function(...n){je("console",{args:n,level:e});const s=Es[e];s&&s.apply(L.console,n)}})})}function Zi(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const ug="CaptureConsole",lg=(e={})=>{const t=e.levels||bs,n=!!e.handled;return{name:ug,setup(r){"console"in L&&Jl(({args:s,level:o})=>{x()!==r||!t.includes(o)||dg(s,o,n)})}}},S1=lg;function dg(e,t,n){const r={level:Zi(t),extra:{arguments:e}};qe(s=>{if(s.addEventProcessor(a=>(a.logger="console",Bt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${vs(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),ii(a,r)}return}const o=e.find(a=>a instanceof Error);if(o){Xs(o,r);return}const i=vs(e," ");ii(i,r)})}const fg="Debug",pg=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:fg,setup(n){n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;Et(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}},b1=pg,hg="Dedupe",mg=()=>{let e;return{name:hg,processEvent(t){if(t.type)return t;try{if(_g(t,e))return P&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},gg=mg;function _g(e,t){return t?!!(yg(e,t)||Sg(e,t)):!1}function yg(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Ql(e,t)||!Zl(e,t))}function Sg(e,t){const n=wc(t),r=wc(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Ql(e,t)||!Zl(e,t))}function Zl(e,t){let n=Yo(e),r=Yo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function Ql(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function wc(e){return e.exception&&e.exception.values&&e.exception.values[0]}const bg="ExtraErrorData",Eg=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:bg,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return vg(r,s,t,n,i)}}},E1=Eg;function vg(e,t={},n,r,s){if(!t.originalException||!dt(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=wg(t.originalException,r,s);if(i){const a={...e.contexts},c=We(i,n);return un(c)&&(Pe(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function wg(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=dt(i)||typeof i=="string"?Dt(`${i}`,n):i}if(t&&e.cause!==void 0&&(s.cause=dt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=dt(a)?a.toString():a}}return s}catch(r){P&&y.error("Unable to extract extra data from the Error object:",r)}return null}function Ig(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const Tg=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function kg(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Tg.exec(t);return n?n.slice(1):[]}function Ic(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=Ig(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Tc(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Cg(e,t){e=Ic(e).slice(1),t=Ic(t).slice(1);const n=Tc(e.split("/")),r=Tc(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function xg(e,t){return kg(e)[2]||""}const Rg="RewriteFrames",v1=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in L&&L.window!==void 0,s=e.iteratee||Mg({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a&&a.frames&&a.frames.map(c=>s(c))}}return{name:Rg,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function Mg({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Cg(t,i):xg(i);r.filename=`${n}${a}`}return r}}const Ag="SessionTiming",Og=()=>{const e=ae()*1e3;return{name:Ag,processEvent(t){const n=ae()*1e3;return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},w1=Og,Ng=10,Dg="ZodErrors";function Pg(e){return dt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function Lg(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function Fg(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function $g(e){const t=new Set;for(const r of e.issues){const s=Fg(r.path);s.length>0&&t.add(s)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const s=e.issues[0];s!==void 0&&"expected"in s&&typeof s.expected=="string"&&(r=s.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${Dt(n.join(", "),100)}`}function Ug(e,t=!1,n,r){if(!n.exception||!n.exception.values||!r||!r.originalException||!Pg(r.originalException)||r.originalException.issues.length===0)return n;try{const o=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(Lg);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:o})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:$g(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":o.slice(0,e)}}}catch(s){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:s instanceof Error?`${s.name}: ${s.message}
${s.stack}`:"unknown"}}}}}const Bg=(e={})=>{const t=typeof e.limit>"u"?Ng:e.limit;return{name:Dg,processEvent(n,r){return Ug(t,e.saveZodIssuesAsAttachment,n,r)}}},I1=Bg,T1=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{dn(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(Kl(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;Xl(r,n)})},processEvent(t){const n=Hg(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function Hg(e){const t=Yo(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(kc)).map(r=>r.slice(kc.length)):[])}const kc="_sentryBundlerPluginAppKey:",ed="c",td="g",Qi="s",nd="d",Wg=5e3;function rd(e,t){const n=Sr("globalMetricsAggregators",()=>new WeakMap),r=n.get(e);if(r)return r;const s=new t(e);return e.on("flush",()=>s.flush()),e.on("close",()=>s.close()),n.set(e,s),s}function Ks(e,t,n,r,s={}){const o=s.client||x();if(!o)return;const i=fe(),a=i?me(i):void 0,c=a&&H(a).description,{unit:u,tags:d,timestamp:l}=s,{release:f,environment:p}=o.getOptions(),h={};f&&(h.release=f),p&&(h.environment=p),c&&(h.transaction=c),P&&y.log(`Adding value of ${r} to ${t} metric ${n}`),rd(o,e).add(t,n,r,u,{...h,...d},l)}function zg(e,t,n=1,r){Ks(e,ed,t,ea(n),r)}function ui(e,t,n,r){Ks(e,nd,t,ea(n),r)}function jg(e,t,n,r="second",s){if(typeof n=="function"){const o=ae();return Lh({op:"metrics.timing",name:t,startTime:o,onlyIfParent:!0},i=>ji(()=>n(),()=>{},()=>{const a=ae(),c=a-o;ui(e,t,c,{...s,unit:"second"}),i.end(a)}))}ui(e,t,n,{...s,unit:r})}function qg(e,t,n,r){Ks(e,Qi,t,n,r)}function Gg(e,t,n,r){Ks(e,td,t,ea(n),r)}const Ir={increment:zg,distribution:ui,set:qg,gauge:Gg,timing:jg,getMetricsAggregatorForClient:rd};function ea(e){return typeof e=="string"?parseInt(e):e}function Vg(e,t,n,r){const s=Object.entries(_e(r)).sort((o,i)=>o[0].localeCompare(i[0]));return`${e}${t}${n}${s}`}function Yg(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Xg(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([o,i])=>`${o}:${i}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Kg(e){return e.replace(/[^\w]+/gi,"_")}function Jg(e){return e.replace(/[^\w\-.]+/gi,"_")}function Zg(e){return e.replace(/[^\w\-./]+/gi,"")}const Qg=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function e_(e){for(const[t,n]of Qg)if(e===t)return n;return e}function t_(e){return[...e].reduce((t,n)=>t+e_(n),"")}function n_(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=Zg(n);t[r]=t_(String(e[n]))}return t}function r_(e,t){y.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=e.getDsn(),r=e.getSdkMetadata(),s=e.getOptions().tunnel,o=s_(t,n,r,s);e.sendEnvelope(o)}function s_(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=pn(t));const o=o_(e);return wt(s,[o])}function o_(e){const t=Xg(e);return[{type:"statsd",length:t.length},t]}class i_{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class a_{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class c_{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class u_{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Yg(t):t).join(":")}}const l_={[ed]:i_,[td]:a_,[nd]:c_,[Qi]:u_};class Tr{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),Wg)}add(t,n,r,s="none",o={},i=ae()){const a=Math.floor(i),c=Jg(n),u=n_(o),d=Kg(s),l=Vg(t,c,d,u);let f=this._buckets.get(l);const p=f&&t===Qi?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new l_[t](r),timestamp:a,metricType:t,name:c,unit:d,tags:u},this._buckets.set(l,f));const h=typeof r=="string"?f.metric.weight-p:r;ch(t,c,h,d,o,l)}flush(){if(this._buckets.size===0)return;const t=Array.from(this._buckets.values());r_(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}function d_(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const o=zt()&&t(e.fetchData.url);if(e.endTimestamp&&o){const f=e.fetchData.__span;if(!f)return;const p=r[f];p&&(h_(p,e),delete r[f]);return}const{method:i,url:a}=e.fetchData,c=p_(a),u=c?an(c).host:void 0,d=!!fe(),l=o&&d?nt({name:`${i} ${a}`,attributes:{url:a,type:"fetch","http.method":i,"http.url":c,"server.address":u,[Z]:s,[Oe]:"http.client"}}):new Yt;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],p=e.args[1]||{},h=f_(f,p,zt()&&d?l:void 0);h&&(e.args[1]=p,p.headers=h)}return l}function f_(e,t,n){const r=Vl({span:n}),s=r["sentry-trace"],o=r.baggage;if(!s)return;const i=t.headers||(m_(e)?e.headers:void 0);if(i)if(g_(i)){const a=new Headers(i);if(a.set("sentry-trace",s),o){const c=a.get("baggage");if(c){const u=zr(c);a.set("baggage",u?`${u},${o}`:o)}else a.set("baggage",o)}return a}else if(Array.isArray(i)){const a=[...i.filter(c=>!(Array.isArray(c)&&c[0]==="sentry-trace")).map(c=>{if(Array.isArray(c)&&c[0]==="baggage"&&typeof c[1]=="string"){const[u,d,...l]=c;return[u,zr(d),...l]}else return c}),["sentry-trace",s]];return o&&a.push(["baggage",o]),a}else{const a="baggage"in i?i.baggage:void 0;let c=[];return Array.isArray(a)?c=a.map(u=>typeof u=="string"?zr(u):u).filter(u=>u===""):a&&c.push(zr(a)),o&&c.push(o),{...i,"sentry-trace":s,baggage:c.length>0?c.join(","):void 0}}else return{...r}}function p_(e){try{return new URL(e).href}catch{return}}function h_(e,t){if(t.response){ul(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Se,message:"internal_error"});e.end()}function zr(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(zi)).join(",")}function m_(e){return typeof Request<"u"&&mt(e,Request)}function g_(e){return typeof Headers<"u"&&mt(e,Headers)}function __(e,t={},n=W()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:_e({contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c})},type:"feedback",level:"info",tags:u},l=n&&n.getClient()||x();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function y_(){return{bindClient(e){W().setClient(e)},withScope:qe,getClient:()=>x(),getScope:W,getIsolationScope:Ee,captureException:(e,t)=>W().captureException(e,t),captureMessage:(e,t,n)=>W().captureMessage(e,t,n),captureEvent:wr,addBreadcrumb:st,setUser:lm,setTags:cm,setTag:um,setExtra:am,setExtras:im,setContext:Ji,getIntegration(e){const t=x();return t&&t.getIntegrationByName(e.id)||null},startSession:ai,endSession:xs,captureSession(e){if(e)return xs();S_()}}}const k1=y_;function S_(){const e=W(),t=x(),n=e.getSession();t&&n&&t.captureSession(n)}function sd(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Ms=L;function od(){if(!("fetch"in Ms))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function li(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function id(){if(typeof EdgeRuntime=="string")return!0;if(!od())return!1;if(li(Ms.fetch))return!0;let e=!1;const t=Ms.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=li(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){jt&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function b_(){return"ReportingObserver"in Ms}function ta(e,t){const n="fetch";qt(n,e),Gt(n,()=>ad(void 0,t))}function E_(e){const t="fetch-body-resolved";qt(t,e),Gt(t,()=>ad(w_))}function ad(e,t=!1){t&&!id()||Me(L,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=I_(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:ae()*1e3,virtualError:s};return e||je("fetch",{...a}),n.apply(L,r).then(async c=>(e?e(c):je("fetch",{...a,endTimestamp:ae()*1e3,response:c}),c),c=>{throw je("fetch",{...a,endTimestamp:ae()*1e3,error:c}),dt(c)&&c.stack===void 0&&(c.stack=s.stack,Pe(c,"framesToPop",1)),c})}})}async function v_(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function w_(e){let t;try{t=e.clone()}catch{return}v_(t,()=>{je("fetch-body-resolved",{endTimestamp:ae()*1e3,response:e})})}function di(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Cc(e){return typeof e=="string"?e:e?di(e,"url")?e.url:e.toString?e.toString():"":""}function I_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Cc(n),method:di(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Cc(t),method:di(t,"method")?String(t.method).toUpperCase():"GET"}}function T_(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function k_(){return"npm"}function C_(){return!T_()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function fi(){return typeof window<"u"&&(!C_()||x_())}function x_(){const e=L.process;return!!e&&e.type==="renderer"}const jr=L;function R_(){const e=jr.chrome,t=e&&e.app&&e.app.runtime,n="history"in jr&&!!jr.history.pushState&&!!jr.history.replaceState;return!t&&n}function M_(e,t){return e??t()}function cn(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const I=L;let pi=0;function cd(){return pi>0}function A_(){pi++,setTimeout(()=>{pi--})}function Ln(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Ui(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>Ln(i,t));return e.apply(this,o)}catch(o){throw A_(),qe(i=>{i.addEventProcessor(a=>(t.mechanism&&(Ko(a,void 0),Bt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Xs(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}rl(r,e),Pe(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function na(e,t){const n=ra(e,t),r={type:L_(t),value:F_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function O_(e,t,n,r){const s=x(),o=s&&s.getOptions().normalizeDepth,i=W_(t),a={__serialized__:Rl(t,o)};if(i)return{exception:{values:[na(e,i)]},extra:a};const c={exception:{values:[{type:js(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:B_(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=ra(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Mo(e,t){return{exception:{values:[na(e,t)]}}}function ra(e,t){const n=t.stacktrace||t.stack||"",r=D_(t),s=P_(t);try{return e(n,r,s)}catch{}return[]}const N_=/Minified React error #\d+;/i;function D_(e){return e&&N_.test(e.message)?1:0}function P_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function ud(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function L_(e){const t=e&&e.name;return!t&&ud(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function F_(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:ud(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function $_(e,t,n,r){const s=n&&n.syntheticException||void 0,o=sa(e,t,s,r);return Bt(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),_t(o)}function U_(e,t,n="info",r,s){const o=r&&r.syntheticException||void 0,i=hi(e,t,o,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),_t(i)}function sa(e,t,n,r,s){let o;if(el(t)&&t.error)return Mo(e,t.error);if(ja(t)||wp(t)){const i=t;if("stack"in t)o=Mo(e,t);else{const a=i.name||(ja(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=hi(e,c,n,r),Ko(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return dt(t)?Mo(e,t):un(t)||js(t)?(o=O_(e,t,n,s),Bt(o,{synthetic:!0}),o):(o=hi(e,t,n,r),Ko(o,`${t}`),Bt(o,{synthetic:!0}),o)}function hi(e,t,n,r){const s={};if(r&&n){const o=ra(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),Bt(s,{synthetic:!0})}if(Li(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function B_(e,{isUnhandledRejection:t}){const n=Ap(e),r=t?"promise rejection":"exception";return el(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:js(e)?`Event \`${H_(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function H_(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function W_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function z_(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:pn(r)}},o=j_(e);return wt(s,[o])}function j_(e){return[{type:"user_report"},e]}class q_ extends vm{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=I.SENTRY_SDK_SOURCE||k_();Gl(n,"browser",["browser"],r),super(n),n.sendClientReports&&I.document&&I.document.addEventListener("visibilitychange",()=>{I.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return $_(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return U_(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){G&&y.warn("SDK not enabled, will not capture user feedback.");return}const n=z_(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const oa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,G_=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Xn=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s||0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=G_(t.value,n),e(t)))}},N=L,V_=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,kr=(e=!0)=>{const t=N.performance&&N.performance.getEntriesByType&&N.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Cr=()=>{const e=kr();return e&&e.activationStart||0},Kn=(e,t)=>{const n=kr();let r="navigate";return n&&(N.document&&N.document.prerendering||Cr()>0?r="prerender":N.document&&N.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:V_(),navigationType:r}},hn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Jn=e=>{const t=n=>{(n.type==="pagehide"||N.document&&N.document.visibilityState==="hidden")&&e(n)};N.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Js=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let sr=-1;const Y_=()=>N.document.visibilityState==="hidden"&&!N.document.prerendering?0:1/0,As=e=>{N.document.visibilityState==="hidden"&&sr>-1&&(sr=e.type==="visibilitychange"?e.timeStamp:0,K_())},X_=()=>{addEventListener("visibilitychange",As,!0),addEventListener("prerenderingchange",As,!0)},K_=()=>{removeEventListener("visibilitychange",As,!0),removeEventListener("prerenderingchange",As,!0)},Zs=()=>(N.document&&sr<0&&(sr=Y_(),X_()),{get firstHiddenTime(){return sr}}),xr=e=>{N.document&&N.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},J_=[1800,3e3],Z_=(e,t={})=>{xr(()=>{const n=Zs(),r=Kn("FCP");let s;const i=hn("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Cr(),0),r.entries.push(c),s(!0)))})});i&&(s=Xn(e,r,J_,t.reportAllChanges))})},Q_=[.1,.25],ey=(e,t={})=>{Z_(Js(()=>{const n=Kn("CLS",0);let r,s=0,o=[];const i=c=>{c.forEach(u=>{if(!u.hadRecentInput){const d=o[0],l=o[o.length-1];s&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,o.push(u)):(s=u.value,o=[u])}}),s>n.value&&(n.value=s,n.entries=o,r())},a=hn("layout-shift",i);a&&(r=Xn(e,n,Q_,t.reportAllChanges),Jn(()=>{i(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},ty=[100,300],ny=(e,t={})=>{xr(()=>{const n=Zs(),r=Kn("FID");let s;const o=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},i=c=>{c.forEach(o)},a=hn("first-input",i);s=Xn(e,r,ty,t.reportAllChanges),a&&Jn(Js(()=>{i(a.takeRecords()),a.disconnect()}))})};let ld=0,Ao=1/0,qr=0;const ry=e=>{e.forEach(t=>{t.interactionId&&(Ao=Math.min(Ao,t.interactionId),qr=Math.max(qr,t.interactionId),ld=qr?(qr-Ao)/7+1:0)})};let mi;const sy=()=>mi?ld:performance.interactionCount||0,oy=()=>{"interactionCount"in performance||mi||(mi=hn("event",ry,{type:"event",buffered:!0,durationThreshold:0}))},lt=[],Oo=new Map,iy=40;let ay=0;const cy=()=>sy()-ay,uy=()=>{const e=Math.min(lt.length-1,Math.floor(cy()/50));return lt[e]},No=10,ly=[],dy=e=>{if(ly.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=lt[lt.length-1],n=Oo.get(e.interactionId);if(n||lt.length<No||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Oo.set(r.id,r),lt.push(r)}lt.sort((r,s)=>s.latency-r.latency),lt.length>No&&lt.splice(No).forEach(r=>Oo.delete(r.id))}},dd=e=>{const t=N.requestIdleCallback||N.setTimeout;let n=-1;return e=Js(e),N.document&&N.document.visibilityState==="hidden"?e():(n=t(e),Jn(e)),n},fy=[200,500],py=(e,t={})=>{"PerformanceEventTiming"in N&&"interactionId"in PerformanceEventTiming.prototype&&xr(()=>{oy();const n=Kn("INP");let r;const s=i=>{dd(()=>{i.forEach(dy);const a=uy();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},o=hn("event",s,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:iy});r=Xn(e,n,fy,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Jn(()=>{s(o.takeRecords()),r(!0)}))})},hy=[2500,4e3],xc={},my=(e,t={})=>{xr(()=>{const n=Zs(),r=Kn("LCP");let s;const o=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(c=>{c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Cr(),0),r.entries=[c],s())})},i=hn("largest-contentful-paint",o);if(i){s=Xn(e,r,hy,t.reportAllChanges);const a=Js(()=>{xc[r.id]||(o(i.takeRecords()),i.disconnect(),xc[r.id]=!0,s(!0))});["keydown","click"].forEach(c=>{N.document&&addEventListener(c,()=>dd(a),{once:!0,capture:!0})}),Jn(a)}})},gy=[800,1800],gi=e=>{N.document&&N.document.prerendering?xr(()=>gi(e)):N.document&&N.document.readyState!=="complete"?addEventListener("load",()=>gi(e),!0):setTimeout(e,0)},_y=(e,t={})=>{const n=Kn("TTFB"),r=Xn(e,n,gy,t.reportAllChanges);gi(()=>{const s=kr();s&&(n.value=Math.max(s.responseStart-Cr(),0),n.entries=[s],r(!0))})},or={},Os={};let fd,pd,hd,md,gd;function ia(e,t=!1){return Rr("cls",e,Sy,fd,t)}function _d(e,t=!1){return Rr("lcp",e,Ey,hd,t)}function yd(e){return Rr("fid",e,by,pd)}function yy(e){return Rr("ttfb",e,vy,md)}function Sd(e){return Rr("inp",e,wy,gd)}function Fn(e,t){return bd(e,t),Os[e]||(Iy(e),Os[e]=!0),Ed(e,t)}function Zn(e,t){const n=or[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){oa&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(r)}
Error:`,s)}}function Sy(){return ey(e=>{Zn("cls",{metric:e}),fd=e},{reportAllChanges:!0})}function by(){return ny(e=>{Zn("fid",{metric:e}),pd=e})}function Ey(){return my(e=>{Zn("lcp",{metric:e}),hd=e},{reportAllChanges:!0})}function vy(){return _y(e=>{Zn("ttfb",{metric:e}),md=e})}function wy(){return py(e=>{Zn("inp",{metric:e}),gd=e})}function Rr(e,t,n,r,s=!1){bd(e,t);let o;return Os[e]||(o=n(),Os[e]=!0),r&&t({metric:r}),Ed(e,t,s?o:void 0)}function Iy(e){const t={};e==="event"&&(t.durationThreshold=0),hn(e,n=>{Zn(e,{entries:n})},t)}function bd(e,t){or[e]=or[e]||[],or[e].push(t)}function Ed(e,t,n){return()=>{n&&n();const r=or[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function Ty(e){return"duration"in e}function Do(e){return typeof e=="number"&&isFinite(e)}function St(e,t,n,{...r}){const s=H(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Pn(e,()=>{const o=nt({startTime:t,...r});return o&&o.end(n),o})}function vd(e){const t=x();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),d=W(),l=d.getUser(),f=l!==void 0?l.email||l.id||l.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}const h={release:i,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":N.navigator&&N.navigator.userAgent,...s};return nt({name:n,attributes:h,startTime:o,experimental:{standalone:!0}})}function aa(){return N&&N.addEventListener&&N.performance}function ye(e){return e/1e3}function wd(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function ky(){let e=0,t,n;if(!xy())return;let r=!1;function s(){r||(r=!0,n&&Cy(e,t,n),o())}const o=ia(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(e=i.value,t=a)},!0);Jn(()=>{s()}),setTimeout(()=>{const i=x();if(!i)return;const a=i.on("startNavigationSpan",()=>{s(),a&&a()}),c=fe(),u=c&&me(c),d=u&&H(u);d&&d.op==="pageload"&&(n=u.spanContext().spanId)},0)}function Cy(e,t,n){oa&&y.log(`Sending CLS span (${e})`);const r=ye((ke||0)+(t&&t.startTime||0)),s=W().getScopeData().transactionName,o=t?gt(t.sources[0]&&t.sources[0].node):"Layout shift",i=_e({[Z]:"auto.http.browser.cls",[Oe]:"ui.webvital.cls",[Wi]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=vd({name:o,transaction:s,attributes:i,startTime:r});a&&(a.addEvent("cls",{[Gs]:"",[Vs]:e}),a.end(r))}function xy(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const Ry=2147483647;let Rc=0,Ie={},De,ir;function My({recordClsStandaloneSpans:e}){const t=aa();if(t&&ke){t.mark&&N.performance.mark("sentry-tracing-init");const n=Ly(),r=Py(),s=Fy(),o=e?ky():Dy();return()=>{n(),r(),s(),o&&o()}}return()=>{}}function Ay(){Fn("longtask",({entries:e})=>{const t=fe();if(!t)return;const{op:n,start_timestamp:r}=H(t);for(const s of e){const o=ye(ke+s.startTime),i=ye(s.duration);n==="navigation"&&r&&o<r||St(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Z]:"auto.ui.browser.metrics"}})}})}function Oy(){new PerformanceObserver(t=>{const n=fe();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=ye(ke+r.startTime),{start_timestamp:o,op:i}=H(n);if(i==="navigation"&&o&&s<o)continue;const a=ye(r.duration),c={[Z]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),h!==-1&&(c["browser.script.source_char_position"]=h),St(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Ny(){Fn("event",({entries:e})=>{const t=fe();if(t){for(const n of e)if(n.name==="click"){const r=ye(ke+n.startTime),s=ye(n.duration),o={name:gt(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Z]:"auto.ui.browser.metrics"}},i=nl(n.target);i&&(o.attributes["ui.component_name"]=i),St(t,r,r+s,o)}}})}function Dy(){return ia(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ie.cls={value:e.value,unit:""},ir=t)},!0)}function Py(){return _d(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ie.lcp={value:e.value,unit:"millisecond"},De=t)},!0)}function Ly(){return yd(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=ye(ke),r=ye(t.startTime);Ie.fid={value:e.value,unit:"millisecond"},Ie["mark.fid"]={value:n+r,unit:"second"}})}function Fy(){return yy(({metric:e})=>{e.entries[e.entries.length-1]&&(Ie.ttfb={value:e.value,unit:"millisecond"})})}function $y(e,t){const n=aa();if(!n||!n.getEntries||!ke)return;const r=ye(ke),s=n.getEntries(),{op:o,start_timestamp:i}=H(e);if(s.slice(Rc).forEach(a=>{const c=ye(a.startTime),u=ye(Math.max(0,a.duration));if(!(o==="navigation"&&i&&r+c<i))switch(a.entryType){case"navigation":{By(e,a,r);break}case"mark":case"paint":case"measure":{Uy(e,a,c,u,r);const d=Zs(),l=a.startTime<d.firstHiddenTime;a.name==="first-paint"&&l&&(Ie.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&l&&(Ie.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{zy(e,a,a.name,c,u,r);break}}}),Rc=Math.max(s.length-1,0),jy(e),o==="pageload"){Gy(Ie);const a=Ie["mark.fid"];a&&Ie.fid&&(St(e,a.value,a.value+ye(Ie.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Z]:"auto.ui.browser.metrics"}}),delete Ie["mark.fid"]),(!("fcp"in Ie)||!t.recordClsOnPageloadSpan)&&delete Ie.cls,Object.entries(Ie).forEach(([c,u])=>{Nh(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Cr()),qy(e)}De=void 0,ir=void 0,Ie={}}function Uy(e,t,n,r,s){const o=kr(!1),i=ye(o?o.requestStart:0),a=s+Math.max(n,i),c=s+n,u=c+r,d={[Z]:"auto.resource.browser.metrics"};return a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),St(e,a,u,{name:t.name,op:t.entryType,attributes:d}),a}function By(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Gr(e,t,r,n)}),Gr(e,t,"secureConnection",n,"TLS/SSL"),Gr(e,t,"fetch",n,"cache"),Gr(e,t,"domainLookup",n,"DNS"),Wy(e,t,n)}function Gr(e,t,n,r,s=n){const o=Hy(n),i=t[o],a=t[`${n}Start`];!a||!i||St(e,r+ye(a),r+ye(i),{op:`browser.${s}`,name:t.name,attributes:{[Z]:"auto.ui.browser.metrics"}})}function Hy(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Wy(e,t,n){const r=n+ye(t.requestStart),s=n+ye(t.responseEnd),o=n+ye(t.responseStart);t.responseEnd&&(St(e,r,s,{op:"browser.request",name:t.name,attributes:{[Z]:"auto.ui.browser.metrics"}}),St(e,o,s,{op:"browser.response",name:t.name,attributes:{[Z]:"auto.ui.browser.metrics"}}))}function zy(e,t,n,r,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const i=an(n),a={[Z]:"auto.resource.browser.metrics"};Po(a,t,"transferSize","http.response_transfer_size"),Po(a,t,"encodedBodySize","http.response_content_length"),Po(a,t,"decodedBodySize","http.decoded_response_content_length");const c=t.deliveryType;c!=null&&(a["http.response_delivery_type"]=c);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop()),i.host&&(a["server.address"]=i.host),a["url.same_origin"]=n.includes(N.location.origin);const{name:d,version:l}=wd(t.nextHopProtocol);a["network.protocol.name"]=d,a["network.protocol.version"]=l;const f=o+r,p=f+s;St(e,f,p,{name:n.replace(N.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function jy(e){const t=N.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Do(n.rtt)&&(Ie["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Do(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Do(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function qy(e){De&&(De.element&&e.setAttribute("lcp.element",gt(De.element)),De.id&&e.setAttribute("lcp.id",De.id),De.url&&e.setAttribute("lcp.url",De.url.trim().slice(0,200)),De.loadTime!=null&&e.setAttribute("lcp.loadTime",De.loadTime),De.renderTime!=null&&e.setAttribute("lcp.renderTime",De.renderTime),e.setAttribute("lcp.size",De.size)),ir&&ir.sources&&ir.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,gt(t.node)))}function Po(e,t,n,r){const s=t[n];s!=null&&s<Ry&&(e[r]=s)}function Gy(e){const t=kr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const Vy=1e3;let Mc,_i,yi;function Id(e){const t="dom";qt(t,e),Gt(t,Yy)}function Yy(){if(!N.document)return;const e=je.bind(null,"dom"),t=Ac(e,!0);N.document.addEventListener("click",t,!1),N.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=N[n],o=s&&s.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(Me(o,"addEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=d[a]=d[a]||{refCount:0};if(!l.handler){const f=Ac(e);l.handler=f,i.call(this,a,f,u)}l.refCount++}catch{}return i.call(this,a,c,u)}}),Me(o,"removeEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},l=d[a];l&&(l.refCount--,l.refCount<=0&&(i.call(this,a,l.handler,u),l.handler=void 0,delete d[a]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,c,u)}}))})}function Xy(e){if(e.type!==_i)return!1;try{if(!e.target||e.target._sentryId!==yi)return!1}catch{}return!0}function Ky(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Ac(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Jy(n);if(Ky(n.type,r))return;Pe(n,"_sentryCaptured",!0),r&&!r._sentryId&&Pe(r,"_sentryId",Ae());const s=n.type==="keypress"?"input":n.type;Xy(n)||(e({event:n,name:s,global:t}),_i=n.type,yi=r?r._sentryId:void 0),clearTimeout(Mc),Mc=N.setTimeout(()=>{yi=void 0,_i=void 0},Vy)}}function Jy(e){try{return e.target}catch{return null}}let Vr;function Qs(e){const t="history";qt(t,e),Gt(t,Zy)}function Zy(){if(!R_())return;const e=N.onpopstate;N.onpopstate=function(...n){const r=N.location.href,s=Vr;if(Vr=r,je("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=Vr,i=String(s);Vr=i,je("history",{from:o,to:i})}return n.apply(this,r)}}Me(N.history,"pushState",t),Me(N.history,"replaceState",t)}const as={};function ca(e){const t=as[e];if(t)return t;let n=N[e];if(li(n))return as[e]=n.bind(N);const r=N.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){oa&&y.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(as[e]=n.bind(N))}function Oc(e){as[e]=void 0}function $n(...e){return ca("setTimeout")(...e)}const At="__sentry_xhr_v3__";function ua(e){const t="xhr";qt(t,e),Gt(t,Qy)}function Qy(){if(!N.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=ae()*1e3,i=ft(r[0])?r[0].toUpperCase():void 0,a=eS(r[1]);if(!i||!a)return t.apply(n,r);n[At]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[At];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:ae()*1e3,startTimestamp:o,xhr:n,virtualError:s};je("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[At];return h&&ft(f)&&ft(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[At];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:ae()*1e3,xhr:n};return je("xhr",o),t.apply(n,r)}})}function eS(e){if(ft(e))return e;try{return e.toString()}catch{}}const Lo=[],cs=new Map;function tS(){if(aa()&&ke){const t=nS();return()=>{t()}}return()=>{}}const Nc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function nS(){return Sd(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(h=>h.duration===e.value&&Nc[h.name]);if(!t)return;const{interactionId:n}=t,r=Nc[t.name],s=ye(ke+t.startTime),o=ye(e.value),i=fe(),a=i?me(i):void 0,u=(n!=null?cs.get(n):void 0)||a,d=u?H(u).description:W().getScopeData().transactionName,l=gt(t.target),f=_e({[Z]:"auto.http.browser.inp",[Oe]:`ui.interaction.${r}`,[Wi]:t.duration}),p=vd({name:l,transaction:d,attributes:f,startTime:s});p&&(p.addEvent("inp",{[Gs]:"millisecond",[Vs]:e.value}),p.end(s+o))})}function rS(e){const t=({entries:n})=>{const r=fe(),s=r&&me(r);n.forEach(o=>{if(!Ty(o)||!s)return;const i=o.interactionId;if(i!=null&&!cs.has(i)){if(Lo.length>10){const a=Lo.shift();cs.delete(a)}Lo.push(i),cs.set(i,s)}})};Fn("event",t),Fn("first-input",t)}function Td(e,t=ca("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Oc("fetch"),ws("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Oc("fetch"),n-=i,r--,ws(c)}}return Am(e,s)}const sS=10,oS=20,iS=30,aS=40,cS=50;function Un(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?rt:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const uS=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,lS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,dS=/\((\S*)(?::(\d+))(?::(\d+))\)/,fS=e=>{const t=uS.exec(e);if(t){const[,r,s,o]=t;return Un(r,rt,+s,+o)}const n=lS.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=dS.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=kd(n[1]||rt,n[2]);return Un(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},pS=[iS,fS],hS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,mS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gS=e=>{const t=hS.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=mS.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||rt;return[s,r]=kd(s,r),Un(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},_S=[cS,gS],yS=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,SS=e=>{const t=yS.exec(e);return t?Un(t[2],t[1]||rt,+t[3],t[4]?+t[4]:void 0):void 0},C1=[aS,SS],bS=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,ES=e=>{const t=bS.exec(e);return t?Un(t[2],t[3]||rt,+t[1]):void 0},x1=[sS,ES],vS=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,wS=e=>{const t=vS.exec(e);return t?Un(t[5],t[3]||t[4]||rt,+t[1],+t[2]):void 0},R1=[oS,wS],IS=[pS,_S],TS=Ku(...IS),kd=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:rt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Yr=1024,kS="Breadcrumbs",CS=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:kS,setup(n){t.console&&Jl(AS(n)),t.dom&&Id(MS(n,t.dom)),t.xhr&&ua(OS(n)),t.fetch&&ta(NS(n)),t.history&&Qs(DS(n)),t.sentry&&n.on("beforeSendEvent",RS(n))}}},xS=CS;function RS(e){return function(n){x()===e&&st({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:kt(n)},{event:n})}}function MS(e,t){return function(r){if(x()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Yr&&(G&&y.warn(`\`dom.maxStringLength\` cannot exceed ${Yr}, but a value of ${a} was configured. Sentry will use ${Yr} instead.`),a=Yr),typeof i=="string"&&(i=[i]);try{const u=r.event,d=PS(u)?u.target:u;s=gt(d,{keyAttrs:i,maxStringLength:a}),o=nl(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),st(c,{event:r.event,name:r.name,global:r.global})}}function AS(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Zi(n.level),message:vs(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${vs(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;st(r,{input:n.args,level:n.level})}}function OS(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[At];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f=sd(c);st({category:"xhr",data:d,type:"http",level:f},l)}}function NS(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};st({category:"fetch",data:o,level:"error",type:"http"},i)}else{const o=n.response,i={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c=sd(i.status_code);st({category:"fetch",data:i,type:"http",level:c},a)}}}function DS(e){return function(n){if(x()!==e)return;let r=n.from,s=n.to;const o=an(I.location.href);let i=r?an(r):void 0;const a=an(s);(!i||!i.path)&&(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),st({category:"navigation",data:{from:r,to:s}})}}function PS(e){return!!e&&!!e.target}const LS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],FS="BrowserApiErrors",$S=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:FS,setupOnce(){t.setTimeout&&Me(I,"setTimeout",Dc),t.setInterval&&Me(I,"setInterval",Dc),t.requestAnimationFrame&&Me(I,"requestAnimationFrame",BS),t.XMLHttpRequest&&"XMLHttpRequest"in I&&Me(XMLHttpRequest.prototype,"send",HS);const n=t.eventTarget;n&&(Array.isArray(n)?n:LS).forEach(WS)}}},US=$S;function Dc(e){return function(...t){const n=t[0];return t[0]=Ln(n,{mechanism:{data:{function:ht(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function BS(e){return function(t){return e.apply(this,[Ln(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ht(e)},handled:!1,type:"instrument"}})])}}function HS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Me(n,s,function(o){const i={mechanism:{data:{function:s,handler:ht(o)},handled:!1,type:"instrument"}},a=Ui(o);return a&&(i.mechanism.data.handler=ht(a)),Ln(o,i)})}),e.apply(this,t)}}function WS(e){const n=I[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Me(r,"addEventListener",function(s){return function(o,i,a){try{zS(i)&&(i.handleEvent=Ln(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ht(i),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[o,Ln(i,{mechanism:{data:{function:"addEventListener",handler:ht(i),target:e},handled:!1,type:"instrument"}}),a])}}),Me(r,"removeEventListener",function(s){return function(o,i,a){try{const c=i.__sentry_wrapped__;c&&s.call(this,o,c,a)}catch{}return s.call(this,o,i,a)}}))}function zS(e){return typeof e.handleEvent=="function"}const jS=()=>({name:"BrowserSession",setupOnce(){if(typeof I.document>"u"){G&&y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}ai({ignoreDuration:!0}),lc(),Qs(({from:e,to:t})=>{e!==void 0&&e!==t&&(ai({ignoreDuration:!0}),lc())})}}),qS="GlobalHandlers",GS=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:qS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(YS(n),Pc("onerror")),t.onunhandledrejection&&(XS(n),Pc("onunhandledrejection"))}}},VS=GS;function YS(e){Ju(t=>{const{stackParser:n,attachStacktrace:r}=Cd();if(x()!==e||cd())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=ZS(sa(n,c||s,void 0,r,!1),o,i,a);u.level="error",wr(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function XS(e){Zu(t=>{const{stackParser:n,attachStacktrace:r}=Cd();if(x()!==e||cd())return;const s=KS(t),o=Fi(s)?JS(s):sa(n,s,void 0,r,!0);o.level="error",wr(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function KS(e){if(Fi(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function JS(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function ZS(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=ft(t)&&t.length>0?t:$i();return c.length===0&&c.push({colno:u,filename:l,function:rt,in_app:!0,lineno:d}),e}function Pc(e){G&&y.log(`Global Handler attached: ${e}`)}function Cd(){const e=x();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const QS=()=>({name:"HttpContext",preprocessEvent(e){if(!I.navigator&&!I.location&&!I.document)return;const t=e.request&&e.request.url||I.location&&I.location.href,{referrer:n}=I.document||{},{userAgent:r}=I.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),eb="cause",tb=5,nb="LinkedErrors",rb=(e={})=>{const t=e.limit||tb,n=e.key||eb;return{name:nb,preprocessEvent(r,s,o){const i=o.getOptions();rg(na,i.stackParser,i.maxValueLength,n,t,r,s)}}},sb=rb;function ob(e){const t=[Gm(),Wm(),US(),xS(),VS(),sb(),gg(),QS()];return e.autoSessionTracking!==!1&&t.push(jS()),t}function ib(e={}){const t={defaultIntegrations:ob(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:I.SENTRY_RELEASE&&I.SENTRY_RELEASE.id?I.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function ab(){const e=typeof I.window<"u"&&I;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,s=I.location&&I.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],i=!!r&&I===I.top&&o.some(c=>s.startsWith(`${c}//`)),a=typeof e.nw<"u";return!!r&&!i&&!a}function cb(e={}){const t=ib(e);if(!t.skipBrowserExtensionCheck&&ab()){Et(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}G&&(od()||y.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:Sp(t.stackParser||TS),integrations:Sm(t),transport:t.transport||Td};return Tm(q_,n)}function Lc(e={}){if(!I.document){G&&y.error("Global document not defined in showReportDialog call");return}const t=W(),n=t.getClient(),r=n&&n.getDsn();if(!r){G&&y.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=dm();a&&(e.eventId=a)}const s=I.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=_m(r,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const a=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{I.removeEventListener("message",a)}};I.addEventListener("message",a)}const i=I.document.head||I.document.body;i?i.appendChild(s):G&&y.error("Not injecting report dialog. No injection point found in HTML")}function M1(){}function A1(e){e()}function O1(e){const t=x();t&&t.captureUserFeedback(e)}const ub={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},Fc=I;async function lb(e,t){const n=ub[e],r=Fc.Sentry=Fc.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=db(n),i=I.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,f)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",f)}),c=I.document.currentScript,u=I.document.body||I.document.head||c&&c.parentElement;if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function db(e){const t=x(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Nt}/${e}.min.js`,r).toString()}const fb=L,pb="ReportingObserver",$c=new WeakMap,hb=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if($c.has(x()))for(const s of r)qe(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}ii(`${i}: ${a}`)})}return{name:pb,setupOnce(){if(!b_())return;new fb.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){$c.set(r,!0)}}},N1=hb,mb="HttpClient",gb=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:mb,setup(n){Ib(n,t),Tb(n,t)}}},D1=gb;function _b(e,t,n,r,s){if(Rd(e,n.status,n.url)){const o=kb(t,r);let i,a,c,u;Ad()&&([i,c]=Uc("Cookie",o),[a,u]=Uc("Set-Cookie",n));const d=Md({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:s});wr(d)}}function Uc(e,t){const n=bb(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=xd(s))}catch{}return[n,r]}function yb(e,t,n,r,s){if(Rd(e,t.status,t.responseURL)){let o,i,a;if(Ad()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=xd(u))}catch{}try{a=Eb(t)}catch{}o=r}const c=Md({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:i,error:s});wr(c)}}function Sb(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function xd(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function bb(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Eb(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function vb(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function wb(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function Ib(e,t){id()&&ta(n=>{if(x()!==e)return;const{response:r,args:s,error:o,virtualError:i}=n,[a,c]=s;r&&_b(t,a,r,c,o||i)},!1)}function Tb(e,t){"XMLHttpRequest"in L&&ua(n=>{if(x()!==e)return;const{error:r,virtualError:s}=n,o=n.xhr,i=o[At];if(!i)return;const{method:a,request_headers:c}=i;try{yb(t,o,a,c,r||s)}catch(u){G&&y.warn("Error while extracting response event form XHR response",u)}})}function Rd(e,t,n){return wb(e.failedRequestStatusCodes,t)&&vb(e.failedRequestTargets,n)&&!ql(n,x())}function Md(e){const t=x(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,o={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Sb(e.responseHeaders)}}};return Bt(o,{type:"http.client",handled:!1}),o}function kb(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Ad(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}const Fo=L,Cb=7,xb="ContextLines",Rb=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:Cb;return{name:xb,processEvent(n){return Mb(n,t)}}},P1=Rb;function Mb(e,t){const n=Fo.document,r=Fo.location&&ag(Fo.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>Ab(u,i,r,t)))}),e}function Ab(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Dp(t,e,r),e}const ie=L,la="sentryReplaySession",Ob="replay_event",da="Unable to send Replay",Nb=3e5,Db=9e5,Pb=5e3,Lb=5500,Fb=6e4,$b=5e3,Ub=3,Bc=15e4,Xr=5e3,Bb=3e3,Hb=300,fa=2e7,Wb=4999,zb=15e3,Hc=36e5;function Si(e,t){return e??t()}function dr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}var be;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(be||(be={}));function jb(e){return e.nodeType===e.ELEMENT_NODE}function ar(e){const t=dr([e,"optionalAccess",n=>n.host]);return dr([t,"optionalAccess",n=>n.shadowRoot])===e}function cr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function qb(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Gb(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ns(e){try{const t=e.rules||e.cssRules;return t?qb(Array.from(t,Od).join("")):null}catch{return null}}function Vb(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function Od(e){let t;if(Xb(e))try{t=Ns(e.styleSheet)||Gb(e)}catch{}else if(Kb(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=Vb(e)),r&&(n=Yb(n)),r||s)return n}return t||e.cssText}function Yb(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Xb(e){return"styleSheet"in e}function Kb(e){return"selectorText"in e}class Nd{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=dr([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Si(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Jb(){return new Nd}function eo({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function fr({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Bn(e){return e.toLowerCase()}function bi(e){return e.toUpperCase()}const Wc="__rrweb_original__";function Zb(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=Wc in o?o[Wc]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function pa(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Bn(t):null}function Ds(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Dd(e,t){let n;try{n=new URL(e,Si(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return Si(dr([s,"optionalAccess",o=>o[1]]),()=>null)}const zc={};function Pd(e){const t=zc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return zc[e]=r.bind(window)}function Ei(...e){return Pd("setTimeout")(...e)}function Ld(...e){return Pd("clearTimeout")(...e)}function Fd(e){try{return e.contentDocument}catch{}}let Qb=1;const eE=new RegExp("[^a-z0-9-_:]"),pr=-2;function ha(){return Qb++}function tE(e){if(e instanceof HTMLFormElement)return"form";const t=Bn(e.tagName);return eE.test(t)?"div":t}function nE(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let bn,jc;const rE=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,sE=/^(?:[a-z+]+:)?\/\//i,oE=/^www\..*/i,iE=/^(data:)([^,]*),(.*)/i;function Ps(e,t){return(e||"").replace(rE,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(sE.test(c)||oE.test(c))return`url(${u}${c}${u})`;if(iE.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${nE(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const aE=/^[^ \t\n\r\u000c]+/,cE=/^[, \t\n\r\u000c]+/;function uE(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(cE),!(n>=t.length);){let o=r(aE);if(o.slice(-1)===",")o=In(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=In(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const qc=new WeakMap;function In(e,t){return!t||t.trim()===""?t:to(e,t)}function lE(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function to(e,t){let n=qc.get(e);if(n||(n=e.createElement("a"),qc.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function $d(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?In(e,r):n==="srcset"?uE(e,r):n==="style"?Ps(r,to(e)):t==="object"&&n==="data"?In(e,r):typeof o=="function"?o(n,r,s):r)}function Ud(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function dE(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function fE(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function nn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:nn(e.parentNode,t,n,r+1)}function Tn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(fE(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Hn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=nn(i,Tn(r,s)),c<0)return!0;a=nn(i,Tn(t,n),c>=0?c:1/0)}else{if(a=nn(i,Tn(t,n)),a<0)return!1;c=nn(i,Tn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function pE(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Ei(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Ld(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Ei(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function hE(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Ei(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Ld(o),r=!0,t()})}function mE(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:g,maskInputFn:S,dataURLOptions:_={},inlineImages:v,recordCanvas:O,keepIframeSrcFn:M,newlyAddedElement:k=!1}=t,E=gE(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:be.Document,childNodes:[],compatMode:e.compatMode}:{type:be.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:be.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return yE(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:S,dataURLOptions:_,inlineImages:v,recordCanvas:O,keepIframeSrcFn:M,newlyAddedElement:k,rootId:E,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return _E(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:S,rootId:E});case e.CDATA_SECTION_NODE:return{type:be.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:be.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function gE(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function _E(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||dr([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(f=Ns(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}f=Ps(f,to(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const S=Hn(e,r,o,s,i,n);if(!p&&!h&&!g&&f&&S&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const _=eo({type:null,tagName:l,maskInputOptions:c});f=fr({isMasked:Hn(e,r,o,s,i,_),element:e,value:f,maskInputFn:u})}return{type:be.Text,textContent:f||"",isStyle:p,rootId:d}}function yE(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:g,maskTextClass:S,unmaskTextClass:_,maskTextSelector:v,unmaskTextSelector:O}=t,M=dE(e,r,s,o),k=tE(e);let E={};const C=e.attributes.length;for(let m=0;m<C;m++){const b=e.attributes[m];b.name&&!Ud(k,b.name,b.value)&&(E[b.name]=$d(n,k,Bn(b.name),b.value,e,c))}if(k==="link"&&i){const m=Array.from(n.styleSheets).find(T=>T.href===e.href);let b=null;m&&(b=Ns(m)),b&&(E.rel=null,E.href=null,E.crossorigin=null,E._cssText=Ps(b,m.href))}if(k==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const m=Ns(e.sheet);m&&(E._cssText=Ps(m,to(n)))}if(k==="input"||k==="textarea"||k==="select"||k==="option"){const m=e,b=pa(m),T=Ds(m,bi(k),b),w=m.checked;if(b!=="submit"&&b!=="button"&&T){const B=Hn(m,S,v,_,O,eo({type:b,tagName:bi(k),maskInputOptions:a}));E.value=fr({isMasked:B,element:m,value:T,maskInputFn:u})}w&&(E.checked=w)}if(k==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),k==="canvas"&&f){if(e.__context==="2d")Zb(e)||(E.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const m=e.toDataURL(d.type,d.quality),b=n.createElement("canvas");b.width=e.width,b.height=e.height;const T=b.toDataURL(d.type,d.quality);m!==T&&(E.rr_dataURL=m)}}if(k==="img"&&l){bn||(bn=n.createElement("canvas"),jc=bn.getContext("2d"));const m=e,b=m.currentSrc||m.getAttribute("src")||"<unknown-src>",T=m.crossOrigin,w=()=>{m.removeEventListener("load",w);try{bn.width=m.naturalWidth,bn.height=m.naturalHeight,jc.drawImage(m,0,0),E.rr_dataURL=bn.toDataURL(d.type,d.quality)}catch(B){if(m.crossOrigin!=="anonymous"){m.crossOrigin="anonymous",m.complete&&m.naturalWidth!==0?w():m.addEventListener("load",w);return}else console.warn(`Cannot inline img src=${b}! Error: ${B}`)}m.crossOrigin==="anonymous"&&(T?E.crossOrigin=T:m.removeAttribute("crossorigin"))};m.complete&&m.naturalWidth!==0?w():m.addEventListener("load",w)}if((k==="audio"||k==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),M){const{width:m,height:b}=e.getBoundingClientRect();E={class:E.class,rr_width:`${m}px`,rr_height:`${b}px`}}k==="iframe"&&!p(E.src)&&(!M&&!Fd(e)&&(E.rr_src=E.src),delete E.src);let R;try{customElements.get(k)&&(R=!0)}catch{}return{type:be.Element,tagName:k,attributes:E,childNodes:[],isSVG:lE(e)||void 0,needBlock:M,rootId:g,isCustom:R}}function oe(e){return e==null?"":e.toLowerCase()}function SE(e,t){if(t.comment&&e.type===be.Comment)return!0;if(e.type===be.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Dd(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(oe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||oe(e.attributes.name)==="application-name"||oe(e.attributes.rel)==="icon"||oe(e.attributes.rel)==="apple-touch-icon"||oe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&oe(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(oe(e.attributes.property).match(/^(og|twitter|fb):/)||oe(e.attributes.name).match(/^(og|twitter):/)||oe(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(oe(e.attributes.name)==="robots"||oe(e.attributes.name)==="googlebot"||oe(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(oe(e.attributes.name)==="author"||oe(e.attributes.name)==="generator"||oe(e.attributes.name)==="framework"||oe(e.attributes.name)==="publisher"||oe(e.attributes.name)==="progid"||oe(e.attributes.property).match(/^article:/)||oe(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(oe(e.attributes.name)==="google-site-verification"||oe(e.attributes.name)==="yandex-verification"||oe(e.attributes.name)==="csrf-token"||oe(e.attributes.name)==="p:domain_verify"||oe(e.attributes.name)==="verify-v1"||oe(e.attributes.name)==="verification"||oe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function kn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:v,dataURLOptions:O={},inlineImages:M=!1,recordCanvas:k=!1,onSerialize:E,onIframeLoad:C,iframeLoadTimeout:R=5e3,onStylesheetLoad:m,stylesheetLoadTimeout:b=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:w=!1}=t;let{preserveWhiteSpace:B=!0}=t;const V=mE(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,dataURLOptions:O,inlineImages:M,recordCanvas:k,keepIframeSrcFn:T,newlyAddedElement:w});if(!V)return console.warn(e,"not serialized"),null;let z;r.hasNode(e)?z=r.getId(e):SE(V,v)||!B&&V.type===be.Text&&!V.isStyle&&!V.textContent.replace(/^\s+|\s+$/gm,"").length?z=pr:z=ha();const A=Object.assign(V,{id:z});if(r.add(e,A),z===pr)return null;E&&E(e);let ce=!f;if(A.type===be.Element){ce=ce&&!A.needBlock,delete A.needBlock;const F=e.shadowRoot;F&&cr(F)&&(A.isShadowHost=!0)}if((A.type===be.Document||A.type===be.Element)&&ce){v.headWhitespace&&A.type===be.Element&&A.tagName==="head"&&(B=!1);const F={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:v,dataURLOptions:O,inlineImages:M,recordCanvas:k,preserveWhiteSpace:B,onSerialize:E,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:m,stylesheetLoadTimeout:b,keepIframeSrcFn:T};for(const te of Array.from(e.childNodes)){const Ce=kn(te,F);Ce&&A.childNodes.push(Ce)}if(jb(e)&&e.shadowRoot)for(const te of Array.from(e.shadowRoot.childNodes)){const Ce=kn(te,F);Ce&&(cr(e.shadowRoot)&&(Ce.isShadow=!0),A.childNodes.push(Ce))}}return e.parentNode&&ar(e.parentNode)&&cr(e.parentNode)&&(A.isShadow=!0),A.type===be.Element&&A.tagName==="iframe"&&pE(e,()=>{const F=Fd(e);if(F&&C){const te=kn(F,{doc:F,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:v,dataURLOptions:O,inlineImages:M,recordCanvas:k,preserveWhiteSpace:B,onSerialize:E,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:m,stylesheetLoadTimeout:b,keepIframeSrcFn:T});te&&C(e,te)}},R),A.type===be.Element&&A.tagName==="link"&&typeof A.attributes.rel=="string"&&(A.attributes.rel==="stylesheet"||A.attributes.rel==="preload"&&typeof A.attributes.href=="string"&&Dd(A.attributes.href)==="css")&&hE(e,()=>{if(m){const F=kn(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:v,dataURLOptions:O,inlineImages:M,recordCanvas:k,preserveWhiteSpace:B,onSerialize:E,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:m,stylesheetLoadTimeout:b,keepIframeSrcFn:T});F&&m(e,F)}},b),A}function bE(e,t){const{mirror:n=new Nd,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOM:v=!1,dataURLOptions:O,preserveWhiteSpace:M,onSerialize:k,onIframeLoad:E,iframeLoadTimeout:C,onStylesheetLoad:R,stylesheetLoadTimeout:m,keepIframeSrcFn:b=()=>!1}=t||{};return kn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:v==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:v===!1?{}:v,dataURLOptions:O,inlineImages:f,recordCanvas:p,preserveWhiteSpace:M,onSerialize:k,onIframeLoad:E,iframeLoadTimeout:C,onStylesheetLoad:R,stylesheetLoadTimeout:m,keepIframeSrcFn:b,newlyAddedElement:!1})}function Ct(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function Re(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const vn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Gc={map:{},getId(){return console.error(vn),-1},getNode(){return console.error(vn),null},removeNodeFromMap(){console.error(vn)},has(){return console.error(vn),!1},reset(){console.error(vn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Gc=new Proxy(Gc,{get(e,t,n){return t==="map"&&console.error(vn),Reflect.get(e,t,n)}}));function hr(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(CE(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=no(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function Bd(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){no(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Bd(e,t,o||{},!0)}function ma(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Ls=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ls=()=>new Date().getTime());function Hd(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Ct([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Ct([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Ct([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Ct([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Ct([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Ct([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Wd(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function zd(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function jd(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Le(e,t,n,r,s){if(!e)return!1;const o=jd(e);if(!o)return!1;const i=Tn(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=nn(o,i);let c=-1;return a<0?!1:(r&&(c=nn(o,Tn(null,r))),a>-1&&c<0?!0:a<c)}function EE(e,t){return t.getId(e)!==-1}function $o(e,t){return t.getId(e)===pr}function qd(e,t){if(ar(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?qd(e.parentNode,t):!0:!0}function vi(e){return!!e.changedTouches}function vE(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Gd(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Vd(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function wi(e){return!!Ct([e,"optionalAccess",t=>t.shadowRoot])}class wE{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return M_(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Yd(e){let t=null;return Ct([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function IE(e){let t=e,n;for(;n=Yd(t);)t=n;return t}function TE(e){const t=e.ownerDocument;if(!t)return!1;const n=IE(e);return t.contains(n)}function Xd(e){const t=e.ownerDocument;return t?t.contains(e)||TE(e):!1}const Vc={};function ga(e){const t=Vc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Vc[e]=r.bind(window)}function kE(...e){return ga("requestAnimationFrame")(...e)}function no(...e){return ga("setTimeout")(...e)}function CE(...e){return ga("clearTimeout")(...e)}var j=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(j||{}),U=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(U||{}),xe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(xe||{}),at=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(at||{}),Yc;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Yc||(Yc={}));var Xc;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(Xc||(Xc={}));function _a(e){try{return e.contentDocument}catch{}}function xE(e){try{return e.contentWindow}catch{}}function RE(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function Kc(e){return"__ln"in e}class ME{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=RE([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Kc(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Kc(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Jc=(e,t)=>`${e}@${t}`;class AE{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new ME,s=c=>{let u=c,d=pr;for(;d===pr;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!Xd(c))return;const u=ar(c.parentNode)?this.mirror.getId(Yd(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=kn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Gd(f,this.mirror)&&!Le(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Vd(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),wi(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{Le(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Zc(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!Qc(this.droppedSet,c)&&!Zc(this.removes,c,this.mirror)||Qc(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!$o(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Hn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,jd(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=pa(n),a=n.tagName;s=Ds(n,a,i);const c=eo({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Hn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=fr({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!_a(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Ud(n.tagName,r)&&(o.attributes[r]=$d(this.doc,Bn(n.tagName),Bn(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(Le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=ar(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||$o(n,this.mirror)||!EE(n,this.mirror)||(this.addedSet.has(n)?(Ii(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||qd(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Jc(r,s)]?Ii(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:ar(t.target)&&cr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if($o(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Jc(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Le(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),wi(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ii(e,t){e.delete(t),t.childNodes.forEach(n=>Ii(e,n))}function Zc(e,t,n){return e.length===0?!1:OE(e,t,n)}function OE(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function Qc(e,t){return e.size===0?!1:Kd(e,t)}function Kd(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Kd(e,n):!1}let ur;function NE(e){ur=e}function DE(){ur=void 0}const X=e=>ur?(...n)=>{try{return e(...n)}catch(r){if(ur&&ur(r)===!0)return()=>{};throw r}}:e;function Ze(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const Cn=[];function Mr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Jd(e,t){const n=new AE;Cn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Ze([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(X(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function PE({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=hr(X(l=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],a=null}),o),u=X(hr(X(l=>{const f=Mr(l),{clientX:p,clientY:h}=vi(l)?l.changedTouches[0]:l;a||(a=Ls()),i.push({x:p,y:h,id:r.getId(f),timeOffset:Ls()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?U.Drag:l instanceof MouseEvent?U.MouseMove:U.TouchMove)}),s,{trailing:!1})),d=[Re("mousemove",u,n),Re("touchmove",u,n),Re("drag",u,n)];return X(()=>{d.forEach(l=>l())})}function LE({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=Mr(f);if(Le(p,r,s,o,!0))return;let h=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=at.Mouse;break;case"touch":h=at.Touch;break;case"pen":h=at.Pen;break}h===at.Touch?xe[l]===xe.MouseDown?g="TouchStart":xe[l]===xe.MouseUp&&(g="TouchEnd"):at.Pen}else vi(f)&&(h=at.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===at.Touch||g.startsWith("Mouse")&&h===at.Mouse)&&(h=null)):xe[l]===xe.Click&&(h=u,u=null);const S=vi(f)?f.changedTouches[0]:f;if(!S)return;const _=n.getId(p),{clientX:v,clientY:O}=S;X(e)({type:xe[g],id:_,x:v,y:O,...h!==null&&{pointerType:h}})};return Object.keys(xe).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Bn(l);const p=d(l);if(window.PointerEvent)switch(xe[l]){case xe.MouseDown:case xe.MouseUp:f=f.replace("mouse","pointer");break;case xe.TouchStart:case xe.TouchEnd:return}c.push(Re(f,p,t))}),X(()=>{c.forEach(l=>l())})}function Zd({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=X(hr(X(c=>{const u=Mr(c);if(!u||Le(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Hd(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Re("scroll",a,t)}function FE({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=X(hr(X(()=>{const o=Wd(),i=zd();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Re("resize",s,t)}const $E=["INPUT","TEXTAREA","SELECT"],eu=new WeakMap;function UE({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:g}){function S(C){let R=Mr(C);const m=C.isTrusted,b=R&&bi(R.tagName);if(b==="OPTION"&&(R=R.parentElement),!R||!b||$E.indexOf(b)<0||Le(R,r,s,o,!0))return;const T=R;if(T.classList.contains(i)||a&&T.matches(a))return;const w=pa(R);let B=Ds(T,b,w),V=!1;const z=eo({maskInputOptions:c,tagName:b,type:w}),A=Hn(R,f,h,p,g,z);(w==="radio"||w==="checkbox")&&(V=R.checked),B=fr({isMasked:A,element:R,value:B,maskInputFn:u}),_(R,l?{text:B,isChecked:V,userTriggered:m}:{text:B,isChecked:V});const ce=R.name;w==="radio"&&ce&&V&&t.querySelectorAll(`input[type="radio"][name="${ce}"]`).forEach(F=>{if(F!==R){const te=fr({isMasked:A,element:F,value:Ds(F,b,w),maskInputFn:u});_(F,l?{text:te,isChecked:!V,userTriggered:!1}:{text:te,isChecked:!V})}})}function _(C,R){const m=eu.get(C);if(!m||m.text!==R.text||m.isChecked!==R.isChecked){eu.set(C,R);const b=n.getId(C);X(e)({...R,id:b})}}const O=(d.input==="last"?["change"]:["input","change"]).map(C=>Re(C,X(S),t)),M=t.defaultView;if(!M)return()=>{O.forEach(C=>C())};const k=M.Object.getOwnPropertyDescriptor(M.HTMLInputElement.prototype,"value"),E=[[M.HTMLInputElement.prototype,"value"],[M.HTMLInputElement.prototype,"checked"],[M.HTMLSelectElement.prototype,"value"],[M.HTMLTextAreaElement.prototype,"value"],[M.HTMLSelectElement.prototype,"selectedIndex"],[M.HTMLOptionElement.prototype,"selected"]];return k&&k.set&&O.push(...E.map(C=>Bd(C[0],C[1],{set(){X(S)({target:this,isTrusted:!1})}},!1,M))),X(()=>{O.forEach(C=>C())})}function Fs(e){const t=[];function n(r,s){if(Kr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Kr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Kr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Kr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function xt(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function BE({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:X((d,l,f)=>{const[p,h]=f,{id:g,styleId:S}=xt(l,t,n.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:g}=xt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:g}=xt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((d,l,f)=>{const[p]=f,{id:h,styleId:g}=xt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:p}),d.apply(l,f)})}));const c={};Jr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Jr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Jr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Jr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:X((f,p,h)=>{const[g,S]=h,{id:_,styleId:v}=xt(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||v&&v!==-1)&&e({id:_,styleId:v,adds:[{rule:g,index:[...Fs(p),S||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:X((f,p,h)=>{const[g]=h,{id:S,styleId:_}=xt(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||_&&_!==-1)&&e({id:S,styleId:_,removes:[{index:[...Fs(p),g]}]}),f.apply(p,h)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Qd({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Ze([n,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):Ze([n,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),o=Ze([s,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(Ze([s,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return Ze([o,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){const a=Ze([o,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function HE({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:X((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:p,styleId:h}=xt(Ze([c,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:Fs(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:X((a,c,u)=>{const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=xt(Ze([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Fs(c.parentRule)}),a.apply(c,u)})}),X(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function WE({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=X(u=>hr(X(d=>{const l=Mr(d);if(!l||Le(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:g}=l;e({type:u,id:s.getId(l),currentTime:f,volume:p,muted:h,playbackRate:g})}),o.media||500)),c=[Re("play",a(0),i),Re("pause",a(1),i),Re("seeked",a(2),i),Re("volumechange",a(3),i),Re("ratechange",a(4),i)];return X(()=>{c.forEach(u=>u())})}function zE({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=ma(t.fonts,"add",function(a){return function(c){return no(X(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),X(()=>{r.forEach(a=>a())})}function jE(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=X(()=>{const u=t.getSelection();if(!u||a&&Ze([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:S,endOffset:_}=p;Le(h,r,s,o,!0)||Le(S,r,s,o,!0)||d.push({start:n.getId(h),startOffset:g,end:n.getId(S),endOffset:_})}i({ranges:d})});return c(),Re("selectionchange",c)}function qE({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:ma(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function GE(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Jd(e,e.doc));const s=PE(e),o=LE(e),i=Zd(e),a=FE(e,{win:n}),c=UE(e),u=WE(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=BE(e,{win:n}),l=Qd(e,e.doc),f=HE(e,{win:n}),e.collectFonts&&(p=zE(e)));const h=jE(e),g=qE(e),S=[];for(const _ of e.plugins)S.push(_.observer(_.callback,n,_.options));return X(()=>{Cn.forEach(_=>_.reset()),Ze([r,"optionalAccess",_=>_.disconnect,"call",_=>_()]),s(),o(),i(),a(),c(),u(),d(),l(),f(),p(),h(),g(),S.forEach(_=>_())})}function Kr(e){return typeof window[e]<"u"}function Jr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ti{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function tu(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}class VE{constructor(){this.crossOriginIframeMirror=new Ti(ha),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class YE{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ti(ha),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ti(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),tu([this,"access",s=>s.loadListener,"optionalCall",s=>s(t)]);const r=_a(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case j.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:j.IncrementalSnapshot,data:{source:U.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case j.Meta:case j.Load:case j.DomContentLoaded:return!1;case j.Plugin:return n;case j.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case j.IncrementalSnapshot:switch(n.data.source){case U.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.Drag:case U.TouchMove:case U.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.ViewportResize:return!1;case U.MediaInteraction:case U.MouseInteraction:case U.Scroll:case U.CanvasMutation:case U.Input:return this.replaceIds(n.data,t,["id"]),n;case U.StyleSheetRule:case U.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case U.Font:return n;case U.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case U.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),tu([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==be.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class XE{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class KE{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!cr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Jd({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Zd({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),no(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Qd({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=_a(t),r=xE(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(ma(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Xd(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class nu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class JE{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new wE,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:Od(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ZE{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,kE(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let pe,$s;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=cn([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Ke=Jb();function pt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:S,slimDOMOptions:_,maskAttributeFn:v,maskInputFn:O,maskTextFn:M,maxCanvasSize:k=null,packFn:E,sampling:C={},dataURLOptions:R={},mousemoveWait:m,recordDOM:b=!0,recordCanvas:T=!1,recordCrossOriginIframes:w=!1,recordAfter:B=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:V=!1,collectFonts:z=!1,inlineImages:A=!1,plugins:ce,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:te=new Set([]),errorHandler:Ce,onMutation:Ge,getCanvasManager:Kt}=e;NE(Ce);const gn=w?window.parent===window:!0;let Ve=!1;if(!gn)try{window.parent.document&&(Ve=!1)}catch{Ve=!0}if(gn&&!t)throw new Error("emit function is required");if(!gn&&!Ve)return()=>{};m!==void 0&&C.mousemove===void 0&&(C.mousemove=m),Ke.reset();const Be=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},it=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};vE();let _n,yn=0;const Qn=K=>{for(const Xe of ce||[])Xe.eventProcessor&&(K=Xe.eventProcessor(K));return E&&!Ve&&(K=E(K)),K};pe=(K,Xe)=>{const Y=K;if(Y.timestamp=Ls(),cn([Cn,"access",le=>le[0],"optionalAccess",le=>le.isFrozen,"call",le=>le()])&&Y.type!==j.FullSnapshot&&!(Y.type===j.IncrementalSnapshot&&Y.data.source===U.Mutation)&&Cn.forEach(le=>le.unfreeze()),gn)cn([t,"optionalCall",le=>le(Qn(Y),Xe)]);else if(Ve){const le={type:"rrweb",event:Qn(Y),origin:window.location.origin,isCheckout:Xe};window.parent.postMessage(le,"*")}if(Y.type===j.FullSnapshot)_n=Y,yn=0;else if(Y.type===j.IncrementalSnapshot){if(Y.data.source===U.Mutation&&Y.data.isAttachIframe)return;yn++;const le=r&&yn>=r,J=n&&_n&&Y.timestamp-_n.timestamp>n;(le||J)&&wo(!0)}};const It=K=>{pe({type:j.IncrementalSnapshot,data:{source:U.Mutation,...K}})},se=K=>pe({type:j.IncrementalSnapshot,data:{source:U.Scroll,...K}}),we=K=>pe({type:j.IncrementalSnapshot,data:{source:U.CanvasMutation,...K}}),Ye=K=>pe({type:j.IncrementalSnapshot,data:{source:U.AdoptedStyleSheet,...K}}),ge=new JE({mutationCb:It,adoptedStyleSheetCb:Ye}),ue=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new VE:new YE({mirror:Ke,mutationCb:It,stylesheetManager:ge,recordCrossOriginIframes:w,wrappedEmit:pe});for(const K of ce||[])K.getMirror&&K.getMirror({nodeMirror:Ke,crossOriginIframeMirror:ue.crossOriginIframeMirror,crossOriginIframeStyleMirror:ue.crossOriginIframeStyleMirror});const He=new ZE,Jt=ev(Kt,{mirror:Ke,win:window,mutationCb:K=>pe({type:j.IncrementalSnapshot,data:{source:U.CanvasMutation,...K}}),recordCanvas:T,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:k,sampling:C.canvas,dataURLOptions:R,errorHandler:Ce}),Sn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new XE:new KE({mutationCb:It,scrollCb:se,bypassOptions:{onMutation:Ge,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:Be,dataURLOptions:R,maskAttributeFn:v,maskTextFn:M,maskInputFn:O,recordCanvas:T,inlineImages:A,sampling:C,slimDOMOptions:it,iframeManager:ue,stylesheetManager:ge,canvasManager:Jt,keepIframeSrcFn:F,processedNodeManager:He},mirror:Ke}),wo=(K=!1)=>{if(!b)return;pe({type:j.Meta,data:{href:window.location.href,width:zd(),height:Wd()}},K),ge.reset(),Sn.init(),Cn.forEach(Y=>Y.lock());const Xe=bE(document,{mirror:Ke,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:Be,maskAttributeFn:v,maskInputFn:O,maskTextFn:M,slimDOM:it,dataURLOptions:R,recordCanvas:T,inlineImages:A,onSerialize:Y=>{Gd(Y,Ke)&&ue.addIframe(Y),Vd(Y,Ke)&&ge.trackLinkElement(Y),wi(Y)&&Sn.addShadowRoot(Y.shadowRoot,document)},onIframeLoad:(Y,le)=>{ue.attachIframe(Y,le),Y.contentWindow&&Jt.addWindow(Y.contentWindow),Sn.observeAttachShadow(Y)},onStylesheetLoad:(Y,le)=>{ge.attachLinkElement(Y,le)},keepIframeSrcFn:F});if(!Xe)return console.warn("Failed to snapshot the document");pe({type:j.FullSnapshot,data:{node:Xe,initialOffset:Hd(window)}}),Cn.forEach(Y=>Y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ge.adoptStyleSheets(document.adoptedStyleSheets,Ke.getId(document))};$s=wo;try{const K=[],Xe=le=>X(GE)({onMutation:Ge,mutationCb:It,mousemoveCb:(J,Zt)=>pe({type:j.IncrementalSnapshot,data:{source:Zt,positions:J}}),mouseInteractionCb:J=>pe({type:j.IncrementalSnapshot,data:{source:U.MouseInteraction,...J}}),scrollCb:se,viewportResizeCb:J=>pe({type:j.IncrementalSnapshot,data:{source:U.ViewportResize,...J}}),inputCb:J=>pe({type:j.IncrementalSnapshot,data:{source:U.Input,...J}}),mediaInteractionCb:J=>pe({type:j.IncrementalSnapshot,data:{source:U.MediaInteraction,...J}}),styleSheetRuleCb:J=>pe({type:j.IncrementalSnapshot,data:{source:U.StyleSheetRule,...J}}),styleDeclarationCb:J=>pe({type:j.IncrementalSnapshot,data:{source:U.StyleDeclaration,...J}}),canvasMutationCb:we,fontCb:J=>pe({type:j.IncrementalSnapshot,data:{source:U.Font,...J}}),selectionCb:J=>{pe({type:j.IncrementalSnapshot,data:{source:U.Selection,...J}})},customElementCb:J=>{pe({type:j.IncrementalSnapshot,data:{source:U.CustomElement,...J}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Be,inlineStylesheet:h,sampling:C,recordDOM:b,recordCanvas:T,inlineImages:A,userTriggeredOnInput:V,collectFonts:z,doc:le,maskAttributeFn:v,maskInputFn:O,maskTextFn:M,keepIframeSrcFn:F,blockSelector:o,unblockSelector:i,slimDOMOptions:it,dataURLOptions:R,mirror:Ke,iframeManager:ue,stylesheetManager:ge,shadowDomManager:Sn,processedNodeManager:He,canvasManager:Jt,ignoreCSSAttributes:te,plugins:cn([ce,"optionalAccess",J=>J.filter,"call",J=>J(Zt=>Zt.observer),"optionalAccess",J=>J.map,"call",J=>J(Zt=>({observer:Zt.observer,options:Zt.options,callback:mp=>pe({type:j.Plugin,data:{plugin:Zt.name,payload:mp}})}))])||[]},{});ue.addLoadListener(le=>{try{K.push(Xe(le.contentDocument))}catch(J){console.warn(J)}});const Y=()=>{wo(),K.push(Xe(document))};return document.readyState==="interactive"||document.readyState==="complete"?Y():(K.push(Re("DOMContentLoaded",()=>{pe({type:j.DomContentLoaded,data:{}}),B==="DOMContentLoaded"&&Y()})),K.push(Re("load",()=>{pe({type:j.Load,data:{}}),B==="load"&&Y()},window))),()=>{K.forEach(le=>le()),He.destroy(),$s=void 0,DE()}}catch(K){console.warn(K)}}function QE(e){if(!$s)throw new Error("please take full snapshot after start recording");$s(e)}pt.mirror=Ke;pt.takeFullSnapshot=QE;function ev(e,t){try{return e?e(t):new nu}catch{return console.warn("Unable to initialize CanvasManager"),new nu}}const tv=3,nv=5;function ya(e){return e>9999999999?e:e*1e3}function Uo(e){return e>9999999999?e/1e3:e}function Ar(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:j.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:We(t,10,1e3)}}),t.category==="console")))}const rv="button,a";function ef(e){return e.closest(rv)||e}function tf(e){const t=nf(e);return!t||!(t instanceof Element)?t:ef(t)}function nf(e){return sv(e)?e.target:e}function sv(e){return typeof e=="object"&&!!e&&"target"in e}let Rt;function ov(e){return Rt||(Rt=[],iv()),Rt.push(e),()=>{const t=Rt?Rt.indexOf(e):-1;t>-1&&Rt.splice(t,1)}}function iv(){Me(ie,"open",function(e){return function(...t){if(Rt)try{Rt.forEach(n=>n())}catch{}return e.apply(ie,t)}})}const av=new Set([U.Mutation,U.StyleSheetRule,U.StyleDeclaration,U.AdoptedStyleSheet,U.CanvasMutation,U.Selection,U.MediaInteraction]);function cv(e,t,n){e.handleClick(t,n)}class uv{constructor(t,n,r=Ar){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=ov(()=>{this._lastMutation=ru()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(dv(n,this._ignoreSelector)||!fv(t))return;const r={timestamp:Uo(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Uo(t)}registerScroll(t=Date.now()){this._lastScroll=Uo(t)}registerClick(t){const n=ef(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=ru();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ie.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ie.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=$n(()=>this._checkClicks(),1e3)}}const lv=["A","BUTTON","INPUT"];function dv(e,t){return!!(!lv.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function fv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function ru(){return Date.now()/1e3}function pv(e,t){try{if(!hv(t))return;const{source:n}=t.data;if(av.has(n)&&e.registerMutation(t.timestamp),n===U.Scroll&&e.registerScroll(t.timestamp),mv(t)){const{type:r,id:s}=t.data,o=pt.mirror.getNode(s);o instanceof HTMLElement&&r===xe.Click&&e.registerClick(o)}}catch{}}function hv(e){return e.type===tv}function mv(e){return e.data.source===U.MouseInteraction}function et(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Us;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Us||(Us={}));const gv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function _v(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(gv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const yv=e=>t=>{if(!e.isEnabled())return;const n=Sv(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&cv(e.clickDetector,n,tf(t.event)),Ar(e,n)};function rf(e,t){const n=pt.mirror.getId(e),r=n&&pt.mirror.getNode(n),s=r&&pt.mirror.getMeta(r),o=s&&Ev(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Us.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:_v(o.attributes)}}:{}}}function Sv(e){const{target:t,message:n}=bv(e);return et({category:`ui.${e.name}`,...rf(t,n)})}function bv(e){const t=e.name==="click";let n,r=null;try{r=t?tf(e.event):nf(e.event),n=gt(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Ev(e){return e.type===Us.Element}function vv(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=wv(t);n&&Ar(e,n)}function wv(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||Iv(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=gt(i,{maxStringLength:200})||"<unknown>",d=rf(i,u);return et({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function Iv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Tv={resource:Mv,paint:xv,navigation:Rv};function Zr(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function kv(e){return e.map(Cv).filter(Boolean)}function Cv(e){const t=Tv[e.entryType];return t?t(e):null}function Wn(e){return((ke||ie.performance.timeOrigin)+e)/1e3}function xv(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=Wn(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function Rv(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:Wn(p),end:Wn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function Mv(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Wn(o),end:Wn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function Av(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return ro(e,"largest-contentful-paint",n)}function Ov(e){return e.sources!==void 0}function Nv(e){const t=[],n=[];for(const r of e.entries)if(Ov(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=pt.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return ro(e,"cumulative-layout-shift",n,t)}function Dv(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return ro(e,"first-input-delay",n)}function Pv(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return ro(e,"interaction-to-next-paint",n)}function ro(e,t,n,r){const s=e.value,o=e.rating,i=Wn(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>pt.mirror.getId(a)):void 0,attributions:r}}}function Lv(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Fn(s,n))}),r.push(_d(Zr(Av,e)),ia(Zr(Nv,e)),yd(Zr(Dv,e)),Sd(Zr(Pv,e))),()=>{r.forEach(s=>s())}}const D=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function $v(){const e=new Blob([Fv]);return URL.createObjectURL(e)}const su=["info","warn","error","log"],us="[Replay] ";function Bo(e,t="info"){st({category:"console",data:{logger:"replay"},level:t,message:`${us}${e}`},{level:t})}function Uv(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return D?(su.forEach(r=>{n[r]=(...s)=>{y[r](us,...s),t&&Bo(s.join(""),Zi(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),y.error(us,r),e?Xs(r):t&&Bo(r,"error")},n.infoTick=(...r)=>{y.info(us,...r),t&&setTimeout(()=>Bo(r[0]),0)}):su.forEach(r=>{n[r]=()=>{}}),n}const $=Uv();class Sa extends Error{constructor(){super(`Event buffer exceeded maximum size of ${fa}.`)}}class sf{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>fa)throw new Sa;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?ya(t):null}}class Bv{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){D&&$.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){D&&$.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Hv{constructor(t){this._worker=new Bv(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=ya(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>fa?Promise.reject(new Sa):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{D&&$.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Wv{constructor(t){this._fallback=new sf,this._compression=new Hv(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){D&&$.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){D&&$.exception(o,"Failed to add events when switching buffers.")}}}function zv({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=jv(t);if(n)return n}return D&&$.info("Using simple buffer"),new sf}function jv(e){try{const t=e||qv();if(!t)return;D&&$.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Wv(n)}catch(t){D&&$.exception(t,"Failed to create compression worker")}}function qv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?$v():""}function ba(){try{return"sessionStorage"in ie&&!!ie.sessionStorage}catch{return!1}}function Gv(e){Vv(),e.session=void 0}function Vv(){if(ba())try{ie.sessionStorage.removeItem(la)}catch{}}function of(e){return e===void 0?!1:Math.random()<e}function af(e){const t=Date.now(),n=e.id||Ae(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function Ea(e){if(ba())try{ie.sessionStorage.setItem(la,JSON.stringify(e))}catch{}}function Yv(e,t){return of(e)?"session":t?"buffer":!1}function ou({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Yv(e,t),o=af({sampled:s,previousSessionId:r});return n&&Ea(o),o}function Xv(){if(!ba())return null;try{const e=ie.sessionStorage.getItem(la);if(!e)return null;const t=JSON.parse(e);return D&&$.infoTick("Loading existing session"),af(t)}catch{return null}}function ki(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function cf(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ki(e.started,t,r)||ki(e.lastActivity,n,r)}function uf(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!cf(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Ho({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&Xv();return s?uf(s,{sessionIdleExpire:e,maxReplayDuration:t})?(D&&$.infoTick("Session in sessionStorage is expired, creating new one..."),ou(r,{previousSessionId:s.id})):s:(D&&$.infoTick("Creating new session"),ou(r,{previousSessionId:n}))}function Kv(e){return e.type===j.Custom}function va(e,t,n){return df(e,t)?(lf(e,t,n),!0):!1}function Jv(e,t,n){return df(e,t)?lf(e,t,n):Promise.resolve(null)}async function lf(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=Zv(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof Sa,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=x();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function df(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=ya(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(D&&$.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Zv(e,t){try{if(typeof t=="function"&&Kv(e))return t(e)}catch(n){return D&&$.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function wa(e){return!e.type}function Ci(e){return e.type==="transaction"}function Qv(e){return e.type==="replay_event"}function iu(e){return e.type==="feedback"}function e0(e){return(t,n)=>{if(!e.isEnabled()||!wa(t)&&!Ci(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(Ci(t)){t0(e,t);return}n0(e,t)}}}function t0(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function n0(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||$n(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function r0(e){return t=>{!e.isEnabled()||!wa(t)||s0(e,t)}}function s0(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=et({category:"replay.hydrate-error",data:{url:$i()}});Ar(e,r)}}function o0(e){const t=x();t&&t.on("beforeAddBreadcrumb",n=>i0(e,n))}function i0(e,t){if(!e.isEnabled()||!ff(t))return;const n=a0(t);n&&Ar(e,n)}function a0(e){return!ff(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?c0(e):et(e)}function c0(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return et(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Xr?(n=!0,`${s.slice(0,Xr)}…`):s;if(typeof s=="object")try{const o=We(s,7);return JSON.stringify(o).length>Xr?(n=!0,`${JSON.stringify(o,null,2).slice(0,Xr)}…`):o}catch{}return s});return et({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function ff(e){return!!e.category}function u0(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function pf(){const e=W().getPropagationContext().dsc;e&&delete e.replay_id;const t=fe();if(t){const n=Xt(t);delete n.replay_id}}function l0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:j.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function d0(e,t){return e.recordingMode!=="buffer"||t.message===da||!t.exception||t.type?!1:of(e.getOptions().errorSampleRate)}function f0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:Qv(t)?(delete t.breadcrumbs,t):!wa(t)&&!Ci(t)&&!iu(t)?t:e.checkAndHandleExpiredSession()?iu(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),l0(e,t),t):u0(t,n)&&!e.getOptions()._experiments.captureExceptions?(D&&$.log("Ignoring error from rrweb internals",t),null):((d0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(pf(),t),{id:"Replay"})}function so(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:j.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function p0(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function h0(e){return t=>{if(!e.isEnabled())return;const n=p0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(so(e,[n]),!1)))}}function m0(e,t){return D&&e.getOptions()._experiments.traceInternals?!1:ql(t,x())}function hf(e,t){e.isEnabled()&&t!==null&&(m0(e,t.name)||e.addUpdate(()=>(so(e,[t]),!0)))}function oo(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=yf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function mf(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function gf(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[yf(e)];if(!e)return[void 0]}catch(t){return D&&$.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return D&&$.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Bs(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function _f(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:_e({method:o,statusCode:i,request:a,response:c})}}function mr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Lt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=g0(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function xi(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function yf(e){return new URLSearchParams(e).toString()}function g0(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Bc,n=_0(e);if(t){const r=e.slice(0,Bc);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function _0(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Hs(e,t){const n=y0(e);return Pt(n,t)}function y0(e,t=ie.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ie.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function S0(e,t,n){try{const r=await E0(e,t,n),s=_f("resource.fetch",r);hf(n.replay,s)}catch(r){D&&$.exception(r,"Failed to capture fetch breadcrumb")}}function b0(e,t){const{input:n,response:r}=t,s=n?Sf(n):void 0,o=oo(s),i=r?mf(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function E0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Hs(i,n.networkDetailAllowUrls)&&!Hs(i,n.networkDetailDenyUrls),f=l?v0(n,t.input,u):mr(u),p=await w0(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function v0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?k0(n,t):{};if(!e)return Lt(s,r,void 0);const o=Sf(n),[i,a]=gf(o),c=Lt(s,r,i);return a?Bs(c,a):c}async function w0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return mr(s);const o=r?bf(r.headers,n):{};if(!r||!t&&s!==void 0)return Lt(o,s,void 0);const[i,a]=await T0(r),c=I0(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?Bs(c,a):c}function I0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e&&e.length&&n===void 0?oo(e):n;return r?t?Lt(s,o,e):Lt(s,o,void 0):mr(o)}catch(o){return D&&$.exception(o,"Failed to serialize response body"),Lt(s,n,void 0)}}async function T0(e){const t=C0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await x0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(D&&$.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(D&&$.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Sf(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function bf(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function k0(e,t){return e.length===1&&typeof e[0]!="string"?au(e[0],t):e.length===2?au(e[1],t):{}}function au(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?bf(n,t):Array.isArray(n)?{}:xi(n,t):{}}function C0(e){try{return e.clone()}catch(t){D&&$.exception(t,"Failed to clone response body")}}function x0(e){return new Promise((t,n)=>{const r=$n(()=>n(new Error("Timeout while trying to read response body")),500);R0(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function R0(e){return await e.text()}async function M0(e,t,n){try{const r=O0(e,t,n),s=_f("resource.xhr",r);hf(n.replay,s)}catch(r){D&&$.exception(r,"Failed to capture xhr breadcrumb")}}function A0(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=oo(r),o=n.getResponseHeader("content-length")?mf(n.getResponseHeader("content-length")):L0(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function O0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Hs(c,n.networkDetailAllowUrls)||Hs(c,n.networkDetailDenyUrls)){const E=mr(l),C=mr(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:E,response:C}}const p=a[At],h=p?xi(p.request_headers,n.networkRequestHeaders):{},g=xi(N0(a),n.networkResponseHeaders),[S,_]=n.networkCaptureBodies?gf(i):[void 0],[v,O]=n.networkCaptureBodies?D0(a):[void 0],M=Lt(h,l,S),k=Lt(g,f,v);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:_?Bs(M,_):M,response:O?Bs(k,O):k}}function N0(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function D0(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return P0(e.response,e.responseType)}catch(n){t.push(n)}return D&&$.warn("Failed to get xhr response body",...t),[void 0]}function P0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return D&&$.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return D&&$.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function L0(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return oo(n)}catch{return}}function F0(e){const t=x();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>$0(a,c,u))}catch{}}function $0(e,t,n){if(t.data)try{U0(t)&&H0(n)&&(A0(t,n),M0(t,n,e)),B0(t)&&W0(n)&&(b0(t,n),S0(t,n,e))}catch(r){D&&$.exception(r,"Error when enriching network breadcrumb")}}function U0(e){return e.category==="xhr"}function B0(e){return e.category==="fetch"}function H0(e){return e&&e.xhr}function W0(e){return e&&e.response}function z0(e){const t=x();Id(yv(e)),Qs(h0(e)),o0(e),F0(e);const n=f0(e);pm(n),t&&(t.on("beforeSendEvent",r0(e)),t.on("afterSendEvent",e0(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,s)=>{const o=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&o&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=o)}))}async function j0(e){try{return Promise.all(so(e,[q0(ie.performance.memory)]))}catch{return[]}}function q0(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function G0(e,t,n){let r,s,o;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function u(){return s!==void 0||o!==void 0?a():r}function d(){return s&&clearTimeout(s),s=$n(a,t),i&&o===void 0&&(o=$n(a,i)),r}return d.cancel=c,d.flush=u,d}const Qt=L.navigator;function V0(){return/iPhone|iPad|iPod/i.test(Qt&&Qt.userAgent||"")||/Macintosh/i.test(Qt&&Qt.userAgent||"")&&Qt&&Qt.maxTouchPoints&&Qt.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function Y0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){D&&$.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&pv(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!va(e,n,s))return!0;if(!s)return!1;const o=e.session;if(K0(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(D&&$.info(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&Ea(o))}return o&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function X0(e){const t=e.getOptions();return{type:j.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function K0(e,t){!t||!e.session||e.session.segmentId!==0||va(e,X0(e),!1)}function J0(e,t,n,r){return wt(Ml(e,qi(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Z0({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function Q0({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await Dl(e.getOptions(),r,o,t,e,Ee());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function ew({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=Z0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=x(),f=W(),p=l&&l.getTransport(),h=l&&l.getDsn();if(!l||!p||!h||!o.sampled)return _t({});const g={type:Ob,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},S=await Q0({scope:f,client:l,replayId:t,event:g});if(!S)return l.recordDroppedEvent("event_processor","replay",g),D&&$.info("An event processor returned `null`, will not send event."),_t({});delete S.sdkProcessingMetadata;const _=J0(S,i,h,l.getOptions().tunnel);let v;try{v=await p.send(_)}catch(M){const k=new Error(da);try{k.cause=M}catch{}throw k}if(typeof v.statusCode=="number"&&(v.statusCode<200||v.statusCode>=300))throw new Ef(v.statusCode);const O=zl({},v);if(Wl(O,"replay"))throw new Ia(O);return v}class Ef extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Ia extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function vf(e,t={count:0,interval:$b}){const{recordingData:n,onError:r}=e;if(n.length)try{return await ew(e),!0}catch(s){if(s instanceof Ef||s instanceof Ia)throw s;if(Ji("Replays",{_retryCount:t.count}),r&&r(s),t.count>=Ub){const o=new Error(`${da} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{$n(async()=>{try{await vf(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const wf="__THROTTLED",tw="__SKIPPED";function nw(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?tw:wf}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Mt{constructor({options:t,recordingOptions:n}){Mt.prototype.__init.call(this),Mt.prototype.__init2.call(this),Mt.prototype.__init3.call(this),Mt.prototype.__init4.call(this),Mt.prototype.__init5.call(this),Mt.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Nb,sessionIdleExpire:Db},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=G0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=nw((i,a)=>Jv(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(Bb,r),timeout:r,scrollTimeout:Hb,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new uv(this,o)),D){const i=t._experiments;$.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){D&&$.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){D&&$.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",D&&$.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){D&&$.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){D&&$.info("Buffering is in progress, call `flush()` to save the replay");return}D&&$.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Ho({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){D&&$.info("Buffering is in progress, call `flush()` to save the replay");return}D&&$.infoTick("Starting replay in buffer mode");const t=Ho({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=pt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Fb}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Y0(this),...V0(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{D&&$.info(`Stopping Replay${n?` triggered by ${n}`:""}`),pf(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Gv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),D&&$.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),D&&$.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();D&&$.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ki(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ie.location.pathname}${ie.location.hash}${ie.location.search}`,n=`${ie.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===wf){const s=et({category:"replay.throttled"});this.addUpdate(()=>!va(this,{type:nv,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||fe(),n=t&&me(t),s=(n&&H(n).data||{})[he];if(!(!n||!s||!["route","custom"].includes(s)))return H(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=zv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Ho({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return uf(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ie.document.addEventListener("visibilitychange",this._handleVisibilityChange),ie.addEventListener("blur",this._handleWindowBlur),ie.addEventListener("focus",this._handleWindowFocus),ie.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(z0(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Lv(this)}_removeListeners(){try{ie.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ie.removeEventListener("blur",this._handleWindowBlur),ie.removeEventListener("focus",this._handleWindowFocus),ie.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{ie.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=et({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=et({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{vv(this,t)}}_doChangeToBackgroundTasks(t){!this.session||cf(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){D&&$.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:j.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=kv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(so(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){D&&$.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await j0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await vf({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:i=>this.handleException(i)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=x();if(r){const s=n instanceof Ia?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){D&&$.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){D&&$.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&D&&$.info("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ea(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=et({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function er(e,t){return[...e,...t].join(",")}function rw({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=er(e,[".sentry-mask","[data-sentry-mask]"]),a=er(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:er(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:er(r,[]),ignoreSelector:er(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function sw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const cu='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ow=["content-length","content-type","accept"];let uu=!1;const L1=e=>new io(e);class io{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Pb,flushMaxDelay:n=Lb,minReplayDuration:r=Wb,maxReplayDuration:s=Hc,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:O=[],networkResponseHeaders:M=[],mask:k=[],maskAttributes:E=["title","placeholder"],unmask:C=[],block:R=[],unblock:m=[],ignore:b=[],maskFn:T,beforeAddRecordingEvent:w,beforeErrorSampling:B,onError:V}={}){this.name=io.id;const z=rw({mask:k,unmask:C,block:R,unblock:m,ignore:b});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:T,maskInputFn:T,maskAttributeFn:(A,ce,F)=>sw({maskAttributes:E,maskAllText:u,privacyOptions:z,key:A,value:ce,el:F}),...z,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:A=>{try{A.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,zb),maxReplayDuration:Math.min(s,Hc),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:S,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:lu(O),networkResponseHeaders:lu(M),beforeAddRecordingEvent:w,beforeErrorSampling:B,onError:V,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${cu}`:cu),this._isInitialized&&fi())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return uu}set _isInitialized(t){uu=t}afterAllSetup(t){!fi()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=iw(this._initialOptions,t);this._replay=new Mt({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}io.__initStatic();function iw(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,..._e(e)},s=Ts(n.replaysSessionSampleRate),o=Ts(n.replaysOnErrorSampleRate);return s==null&&o==null&&Et(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function lu(e){return[...ow,...e.map(t=>t.toLowerCase())]}function F1(){const e=x();return e&&e.getIntegrationByName("Replay")}var du;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(du||(du={}));function aw(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ri(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ri(e.parentNode,t,n,r+1)}function fu(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(aw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const wn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let pu={map:{},getId(){return console.error(wn),-1},getNode(){return console.error(wn),null},removeNodeFromMap(){console.error(wn)},has(){return console.error(wn),!1},reset(){console.error(wn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(pu=new Proxy(pu,{get(e,t,n){return t==="map"&&console.error(wn),Reflect.get(e,t,n)}}));function Ta(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){Tf(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Ta(e,t,o||{},!0)}function ka(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function cw(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ao(e,t,n,r,s){if(!e)return!1;const o=cw(e);if(!o)return!1;const i=fu(t,n),a=Ri(o,i);let c=-1;return a<0?!1:(r&&(c=Ri(o,fu(null,r))),a>-1&&c<0?!0:a<c)}const hu={};function If(e){const t=hu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return hu[e]=r.bind(window)}function en(...e){return If("requestAnimationFrame")(...e)}function Tf(...e){return If("setTimeout")(...e)}var zn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(zn||{});let ls;function uw(e){ls=e}const Wo=e=>ls?(...n)=>{try{return e(...n)}catch(r){if(ls&&ls(r)===!0)return()=>{};throw r}}:e;var xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qr=0;Qr<xn.length;Qr++)lw[xn.charCodeAt(Qr)]=Qr;var dw=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=xn[t[n]>>2],s+=xn[(t[n]&3)<<4|t[n+1]>>4],s+=xn[(t[n+1]&15)<<2|t[n+2]>>6],s+=xn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const mu=new Map;function fw(e,t){let n=mu.get(e);return n||(n=new Map,mu.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const kf=(e,t,n)=>{if(!e||!(xf(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=fw(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function ds(e,t,n){if(e instanceof Array)return e.map(r=>ds(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=dw(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ds(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ds(e.data,t,n),e.width,e.height]};if(xf(e,t)||typeof e=="object"){const r=e.constructor.name,s=kf(e,t,n);return{rr_type:r,index:s}}}}return e}const Cf=(e,t,n)=>e.map(r=>ds(r,t,n)),xf=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function pw(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=ka(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return ao(this.canvas,n,r,s,!0)||Tf(()=>{const l=Cf(d,t,this);e(this.canvas,{type:zn["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const u=Ta(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:zn["2D"],property:a,args:[d],setter:!0})}});o.push(u)}return()=>{o.forEach(a=>a())}}function hw(e){return e==="experimental-webgl"?"webgl":e}function gu(e,t,n,r,s){const o=[];try{const i=ka(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!ao(this,t,n,r,!0)){const d=hw(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function _u(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=ka(e,d,function(f){return function(...p){const h=f.apply(this,p);if(kf(h,a,this),"tagName"in this.canvas&&!ao(this.canvas,r,s,o,!0)){const g=Cf(p,a,this),S={type:t,property:d,args:g};n(this.canvas,S)}return h}});c.push(l)}catch{const f=Ta(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(f)}return c}function mw(e,t,n,r,s,o){const i=[];return i.push(..._u(t.WebGLRenderingContext.prototype,zn.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(..._u(t.WebGL2RenderingContext.prototype,zn.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}var gw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function _w(){const e=new Blob([gw]);return URL.createObjectURL(e)}class yw{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,cn([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&uw(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Wo(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,s,o,i,a,{dataURLOptions:u})})()}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Wo(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=gu(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const t=new Worker(_w());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:zn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,s,o,i){const a=this.takeSnapshot(!1,t,n,r,s,o,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,s){const o=gu(t,n,r,s,!1),i=pw(this.processMutation.bind(this),t,n,r,s),a=mw(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,s,o,i,a,c){const u=1e3/n;let d=0,l;const f=h=>{if(h)return[h];const g=[],S=_=>{_.querySelectorAll("canvas").forEach(v=>{ao(v,r,s,o)||g.push(v)})};for(const _ of this.windows){const v=_.deref();v&&S(v.document)}for(const _ of this.shadowDoms){const v=_.deref();v&&S(v)}return g},p=h=>{if(this.windows.length){if(d&&h-d<u){l=en(p);return}d=h,f(c).forEach(g=>{if(!this.mirror.hasNode(g))return;const S=this.mirror.getId(g);if(!this.snapshotInProgressMap.get(S)&&!(!g.width||!g.height)){if(this.snapshotInProgressMap.set(S,!0),!t&&["webgl","webgl2"].includes(g.__context)){const _=g.getContext(g.__context);cn([_,"optionalAccess",v=>v.getContextAttributes,"call",v=>v(),"optionalAccess",v=>v.preserveDrawingBuffer])===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(g).then(_=>{cn([this,"access",v=>v.worker,"optionalAccess",v=>v.postMessage,"call",v=>v({id:S,bitmap:_,width:g.width,height:g.height,dataURLOptions:a,maxCanvasSize:i},[_])])}).catch(_=>{Wo(()=>{throw _})()})}}),t||(l=en(p))}};return l=en(p),l}startPendingCanvasMutationFlusher(){en(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,en(t)};en(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),en(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}const yu={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Sw="ReplayCanvas",es=1280,bw=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,es):es,n?Math.min(n,es):es]};let s;const o=new Promise(i=>s=i);return{name:Sw,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new yw({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...yu[i]||yu.medium}},async snapshot(i){(await o).snapshot(i)}}},$1=bw,tt=L,Q=tt.document,nr=tt.navigator,Rf="Report a Bug",Ew="Cancel",vw="Send Bug Report",ww="Confirm",Iw="Report a Bug",Tw="your.email@example.org",kw="Email",Cw="What's the bug? What did you expect?",xw="Description",Rw="Your Name",Mw="Name",Aw="Thank you for your report!",Ow="(required)",Nw="Add a screenshot",Dw="Remove screenshot",Pw="widget",Lw="api",Fw=5e3,$w=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=x();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&W().setTags(e.tags);const r=__({source:Lw,url:$i(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?s(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?o("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?o("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},fs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Uw(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(nr.userAgent)||/Macintosh/i.test(nr.userAgent)&&nr.maxTouchPoints&&nr.maxTouchPoints>1||!isSecureContext)}function ts(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Bw(e){const t=Q.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Fe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const En=20,Hw="http://www.w3.org/2000/svg";function Ww(){const e=a=>tt.document.createElementNS(Hw,a),t=Fe(e("svg"),{width:`${En}`,height:`${En}`,viewBox:`0 0 ${En} ${En}`,fill:"var(--actor-color, var(--foreground))"}),n=Fe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=Fe(e("clipPath"),{id:"clip0_57_80"}),i=Fe(e("rect"),{width:`${En}`,height:`${En}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function zw({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=Q.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||Rf,s.appendChild(Ww()),e){const i=Q.createElement("span");i.appendChild(Q.createTextNode(e)),s.appendChild(i)}const o=Bw(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){n.removeChild(s),n.removeChild(o)},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const Mf="rgba(88, 74, 192, 1)",jw={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Mf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Su={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Mf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function bu(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function qw({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=Q.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${bu(e==="dark"?{...Su,...t}:{...jw,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${bu({...Su,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const Af=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:g,colorScheme:S="system",themeLight:_={},themeDark:v={},addScreenshotButtonLabel:O=Nw,cancelButtonLabel:M=Ew,confirmButtonLabel:k=ww,emailLabel:E=kw,emailPlaceholder:C=Tw,formTitle:R=Iw,isRequiredLabel:m=Ow,messageLabel:b=xw,messagePlaceholder:T=Cw,nameLabel:w=Mw,namePlaceholder:B=Rw,removeScreenshotButtonLabel:V=Dw,submitButtonLabel:z=vw,successMessageText:A=Aw,triggerLabel:ce=Rf,triggerAriaLabel:F="",onFormOpen:te,onFormClose:Ce,onSubmitSuccess:Ge,onSubmitError:Kt,onFormSubmitted:gn}={})=>{const Ve={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:g,colorScheme:S,themeDark:v,themeLight:_,triggerLabel:ce,triggerAriaLabel:F,cancelButtonLabel:M,submitButtonLabel:z,confirmButtonLabel:k,formTitle:R,emailLabel:E,emailPlaceholder:C,messageLabel:b,messagePlaceholder:T,nameLabel:w,namePlaceholder:B,successMessageText:A,isRequiredLabel:m,addScreenshotButtonLabel:O,removeScreenshotButtonLabel:V,onFormClose:Ce,onFormOpen:te,onSubmitError:Kt,onSubmitSuccess:Ge,onFormSubmitted:gn};let Be=null,it=[];const _n=se=>{if(!Be){const we=Q.createElement("div");we.id=String(se.id),Q.body.appendChild(we),Be=we.attachShadow({mode:"open"}),Be.appendChild(qw(se))}return Be},yn=async se=>{const we=se.enableScreenshot&&Uw();let Ye,ge;try{Ye=(t?t():await e("feedbackModalIntegration",g))(),pc(Ye)}catch{throw fs&&y.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const He=we?n?n():await e("feedbackScreenshotIntegration",g):void 0;He&&(ge=He(),pc(ge))}catch{fs&&y.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const ue=Ye.createDialog({options:{...se,onFormClose:()=>{ue&&ue.close(),se.onFormClose&&se.onFormClose()},onFormSubmitted:()=>{ue&&ue.close(),se.onFormSubmitted&&se.onFormSubmitted()}},screenshotIntegration:ge,sendFeedback:$w,shadow:_n(se)});return ue},Qn=(se,we={})=>{const Ye=ts(Ve,we),ge=typeof se=="string"?Q.querySelector(se):typeof se.addEventListener=="function"?se:null;if(!ge)throw fs&&y.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ue=null;const He=async()=>{ue||(ue=await yn({...Ye,onFormSubmitted:()=>{ue&&ue.removeFromDom(),Ye.onFormSubmitted&&Ye.onFormSubmitted()}})),ue.appendToDom(),ue.open()};ge.addEventListener("click",He);const Jt=()=>{it=it.filter(Sn=>Sn!==Jt),ue&&ue.removeFromDom(),ue=null,ge.removeEventListener("click",He)};return it.push(Jt),Jt},It=(se={})=>{const we=ts(Ve,se),Ye=_n(we),ge=zw({triggerLabel:we.triggerLabel,triggerAriaLabel:we.triggerAriaLabel,shadow:Ye,styleNonce:h});return Qn(ge.el,{...we,onFormOpen(){ge.hide()},onFormClose(){ge.show()},onFormSubmitted(){ge.show()}}),ge};return{name:"Feedback",setupOnce(){!fi()||!Ve.autoInject||(Q.readyState==="loading"?Q.addEventListener("DOMContentLoaded",()=>It().appendToDom()):It().appendToDom())},attachTo:Qn,createWidget(se={}){const we=It(ts(Ve,se));return we.appendToDom(),we},async createForm(se={}){return yn(ts(Ve,se))},remove(){Be&&(Be.parentElement&&Be.parentElement.remove(),Be=null),it.forEach(se=>se()),it=[]}}};function U1(){const e=x();return e&&e.getIntegrationByName("Feedback")}var co,re,Of,tn,Eu,Nf,Mi,gr={},Ca=[],Gw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xa=Array.isArray;function Ot(e,t){for(var n in t)e[n]=t[n];return e}function Df(e){var t=e.parentNode;t&&t.removeChild(e)}function q(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?co.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return ps(e,i,r,s,null)}function ps(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++Of,__i:-1,__u:0};return s==null&&re.vnode!=null&&re.vnode(o),o}function Or(e){return e.children}function hs(e,t){this.props=e,this.context=t}function jn(e,t){if(t==null)return e.__?jn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?jn(e):null}function Vw(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=Ot({},s)).__v=s.__v+1,re.vnode&&re.vnode(r),Ra(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??jn(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&Pf(r),r}function Pf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Pf(e)}}function vu(e){(!e.__d&&(e.__d=!0)&&tn.push(e)&&!Ws.__r++||Eu!==re.debounceRendering)&&((Eu=re.debounceRendering)||Nf)(Ws)}function Ws(){var e,t,n,r=[],s=[];for(tn.sort(Mi);e=tn.shift();)e.__d&&(n=tn.length,t=Vw(e,r,s)||t,n===0||tn.length>n?(Ai(r,t,s),s.length=r.length=0,t=void 0,tn.sort(Mi)):t&&re.__c&&re.__c(t,Ca));t&&Ai(r,t,s),Ws.__r=0}function Lf(e,t,n,r,s,o,i,a,c,u,d){var l,f,p,h,g,S=r&&r.__k||Ca,_=t.length;for(n.__d=c,Yw(n,t,S),c=n.__d,l=0;l<_;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?gr:S[p.__i]||gr,p.__i=l,Ra(e,p,f,s,o,i,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Ma(f.ref,null,p),d.push(p.ref,p.__c||h,p)),g==null&&h!=null&&(g=h),65536&p.__u||f.__k===p.__k?c=Ff(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function Yw(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ps(null,s,null,null,s):xa(s)?ps(Or,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?ps(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=Xw(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=jn(o)),Oi(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=jn(o)),Oi(o,o))}function Ff(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=Ff(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Xw(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&!(131072&c.__u)&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&o===c.type)return a;a++}}return-1}function wu(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Gw.test(t)?n:n+"px"}function ns(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||wu(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||wu(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?Tu:Iu,o)):e.removeEventListener(t,o?Tu:Iu,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Iu(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(re.event?re.event(e):e)}}function Tu(e){if(this.l)return this.l[e.type+!0](re.event?re.event(e):e)}function Ra(e,t,n,r,s,o,i,a,c,u){var d,l,f,p,h,g,S,_,v,O,M,k,E,C,R,m=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=re.__b)&&d(t);e:if(typeof m=="function")try{if(_=t.props,v=(d=m.contextType)&&r[d.__c],O=d?v?v.props.value:d.__:r,n.__c?S=(l=t.__c=n.__c).__=l.__E:("prototype"in m&&m.prototype.render?t.__c=l=new m(_,O):(t.__c=l=new hs(_,O),l.constructor=m,l.render=Jw),v&&v.sub(l),l.props=_,l.state||(l.state={}),l.context=O,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),m.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Ot({},l.__s)),Ot(l.__s,m.getDerivedStateFromProps(_,l.__s))),p=l.props,h=l.state,l.__v=t,f)m.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(m.getDerivedStateFromProps==null&&_!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(_,O),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(_,l.__s,O)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=_,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(b){b&&(b.__=t)}),M=0;M<l._sb.length;M++)l.__h.push(l._sb[M]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(_,l.__s,O),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,g)})}if(l.context=O,l.props=_,l.__P=e,l.__e=!1,k=re.__r,E=0,"prototype"in m&&m.prototype.render){for(l.state=l.__s,l.__d=!1,k&&k(t),d=l.render(l.props,l.state,l.context),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[]}else do l.__d=!1,k&&k(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++E<25);l.state=l.__s,l.getChildContext!=null&&(r=Ot(Ot({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,h)),Lf(e,xa(R=d!=null&&d.type===Or&&d.key==null?d.props.children:d)?R:[R],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),S&&(l.__E=l.__=null)}catch(b){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),re.__e(b,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Kw(n.__e,t,n,r,s,o,i,c,u);(d=re.diffed)&&d(t)}function Ai(e,t,n){for(var r=0;r<n.length;r++)Ma(n[r],n[++r],n[++r]);re.__c&&re.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){re.__e(o,s.__v)}})}function Kw(e,t,n,r,s,o,i,a,c){var u,d,l,f,p,h,g,S=n.props,_=t.props,v=t.type;if(v==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(v===null)return document.createTextNode(_);e=s?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,_.is&&_),o=null,a=!1}if(v===null)S===_||a&&e.data===_||(e.data=_);else{if(o=o&&co.call(e.childNodes),S=n.props||gr,!a&&o!=null)for(S={},u=0;u<e.attributes.length;u++)S[(p=e.attributes[u]).name]=p.value;for(u in S)p=S[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in _||ns(e,u,null,p,s));for(u in _)p=_[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||S[u]===p||ns(e,u,p,S[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Lf(e,xa(f)?f:[f],t,n,r,s&&v!=="foreignObject",o,i,o?o[0]:n.__k&&jn(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&Df(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||v==="progress"&&!h||v==="option"&&h!==S[u])&&ns(e,u,h,S[u],!1),u="checked",g!==void 0&&g!==e[u]&&ns(e,u,g,S[u],!1))}return e}function Ma(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){re.__e(r,n)}}function Oi(e,t,n){var r,s;if(re.unmount&&re.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ma(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){re.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&Oi(r[s],t,n||typeof e.type!="function");n||e.__e==null||Df(e.__e),e.__=e.__e=e.__d=void 0}function Jw(e,t,n){return this.constructor(e,n)}function Zw(e,t,n){var r,s,o,i;re.__&&re.__(e,t),s=(r=!1)?null:t.__k,o=[],i=[],Ra(t,e=t.__k=q(Or,null,[e]),s||gr,gr,t.ownerSVGElement!==void 0,s?null:t.firstChild?co.call(t.childNodes):null,o,s?s.__e:t.firstChild,r,i),e.__d=void 0,Ai(o,e,i)}co=Ca.slice,re={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},Of=0,hs.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ot({},this.state),typeof e=="function"&&(e=e(Ot({},n),this.props)),e&&Ot(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),vu(this))},hs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),vu(this))},hs.prototype.render=Or,tn=[],Nf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Mi=function(e,t){return e.__v.__b-t.__v.__b},Ws.__r=0;var bt,ne,zo,ku,qn=0,$f=[],ms=[],de=re,Cu=de.__b,xu=de.__r,Ru=de.diffed,Mu=de.__c,Au=de.unmount,Ou=de.__;function mn(e,t){de.__h&&de.__h(ne,e,qn||t),qn=0;var n=ne.__H||(ne.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ms}),n.__[e]}function An(e){return qn=1,Uf(Hf,e)}function Uf(e,t,n){var r=mn(bt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Hf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ne,!ne.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};ne.u=!0;var o=ne.shouldComponentUpdate,i=ne.componentWillUpdate;ne.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},ne.shouldComponentUpdate=s}return r.__N||r.__}function Qw(e,t){var n=mn(bt++,3);!de.__s&&Aa(n.__H,t)&&(n.__=e,n.i=t,ne.__H.__h.push(n))}function Bf(e,t){var n=mn(bt++,4);!de.__s&&Aa(n.__H,t)&&(n.__=e,n.i=t,ne.__h.push(n))}function eI(e){return qn=5,Nr(function(){return{current:e}},[])}function tI(e,t,n){qn=6,Bf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Nr(e,t){var n=mn(bt++,7);return Aa(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function On(e,t){return qn=8,Nr(function(){return e},t)}function nI(e){var t=ne.context[e.__c],n=mn(bt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ne)),t.props.value):e.__}function rI(e,t){de.useDebugValue&&de.useDebugValue(t?t(e):e)}function sI(e){var t=mn(bt++,10),n=An();return t.__=e,ne.componentDidCatch||(ne.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function oI(){var e=mn(bt++,11);if(!e.__){for(var t=ne.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function iI(){for(var e;e=$f.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(gs),e.__H.__h.forEach(Ni),e.__H.__h=[]}catch(t){e.__H.__h=[],de.__e(t,e.__v)}}de.__b=function(e){ne=null,Cu&&Cu(e)},de.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ou&&Ou(e,t)},de.__r=function(e){xu&&xu(e),bt=0;var t=(ne=e.__c).__H;t&&(zo===ne?(t.__h=[],ne.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ms,n.__N=n.i=void 0})):(t.__h.forEach(gs),t.__h.forEach(Ni),t.__h=[],bt=0)),zo=ne},de.diffed=function(e){Ru&&Ru(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&($f.push(t)!==1&&ku===de.requestAnimationFrame||((ku=de.requestAnimationFrame)||aI)(iI)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ms&&(n.__=n.__V),n.i=void 0,n.__V=ms})),zo=ne=null},de.__c=function(e,t){t.some(function(n){try{n.__h.forEach(gs),n.__h=n.__h.filter(function(r){return!r.__||Ni(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],de.__e(r,n.__v)}}),Mu&&Mu(e,t)},de.unmount=function(e){Au&&Au(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{gs(r)}catch(s){t=s}}),n.__H=void 0,t&&de.__e(t,n.__v))};var Nu=typeof requestAnimationFrame=="function";function aI(e){var t,n=function(){clearTimeout(r),Nu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Nu&&(t=requestAnimationFrame(n))}function gs(e){var t=ne,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ne=t}function Ni(e){var t=ne;e.__c=e.__(),ne=t}function Aa(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Hf(e,t){return typeof t=="function"?t(e):t}const cI={__proto__:null,useCallback:On,useContext:nI,useDebugValue:rI,useEffect:Qw,useErrorBoundary:sI,useId:oI,useImperativeHandle:tI,useLayoutEffect:Bf,useMemo:Nr,useReducer:Uf,useRef:eI,useState:An},uI="http://www.w3.org/2000/svg";function lI(){const e=r=>Q.createElementNS(uI,r),t=Fe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Fe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function dI({options:e}){const t=Nr(()=>({__html:lI().outerHTML}),[]);return q("h2",{class:"dialog__header"},q("span",{class:"dialog__title"},e.formTitle),e.showBranding?q("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function fI(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function jo(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function pI({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:g,isEmailRequired:S,isNameRequired:_,messageLabel:v,messagePlaceholder:O,nameLabel:M,namePlaceholder:k,submitButtonLabel:E,isRequiredLabel:C}=e,[R,m]=An(null),[b,T]=An(!1),w=u&&u.input,[B,V]=An(null),z=On(F=>{V(F),T(!1)},[]),A=On(F=>{const te=fI(F,{emailLabel:h,isEmailRequired:S,isNameRequired:_,messageLabel:v,nameLabel:M});return te.length>0?m(`Please enter in the following required fields: ${te.join(", ")}`):m(null),te.length===0},[h,S,_,v,M]),ce=On(async F=>{try{if(F.preventDefault(),!(F.target instanceof HTMLFormElement))return;const te=new FormData(F.target),Ce=await(u&&b?u.value():void 0),Ge={name:jo(te,"name"),email:jo(te,"email"),message:jo(te,"message"),attachments:Ce?[Ce]:void 0};if(!A(Ge))return;try{await s({name:Ge.name,email:Ge.email,message:Ge.message,source:Pw,tags:d},{attachments:Ge.attachments}),o(Ge)}catch(Kt){fs&&y.error(Kt),m(Kt),i(Kt)}}catch{}},[u&&b,o,i]);return q("form",{class:"form",onSubmit:ce},w&&b?q(w,{onError:z}):null,q("div",{class:"form__right","data-sentry-feedback":!0},q("div",{class:"form__top"},R?q("div",{class:"form__error-container"},R):null,c?q("label",{for:"name",class:"form__label"},q(qo,{label:M,isRequiredLabel:C,isRequired:_}),q("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:k,required:_,type:"text"})):q("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?q("label",{for:"email",class:"form__label"},q(qo,{label:h,isRequiredLabel:C,isRequired:S}),q("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:S,type:"email"})):q("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),q("label",{for:"message",class:"form__label"},q(qo,{label:v,isRequiredLabel:C,isRequired:!0}),q("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:O,required:!0,rows:5})),w?q("label",{for:"screenshot",class:"form__label"},q("button",{class:"btn btn--default",type:"button",onClick:()=>{V(null),T(F=>!F)}},b?f:l),B?q("div",{class:"form__error-container"},B.message):null):null),q("div",{class:"btn-group"},q("button",{class:"btn btn--primary",type:"submit"},E),q("button",{class:"btn btn--default",type:"button",onClick:r},p))))}function qo({label:e,isRequired:t,isRequiredLabel:n}){return q("span",{class:"form__label__text"},e,t&&q("span",{class:"form__label__text--required"},n))}const rs=16,Du=17,hI="http://www.w3.org/2000/svg";function mI(){const e=c=>tt.document.createElementNS(hI,c),t=Fe(e("svg"),{width:`${rs}`,height:`${Du}`,viewBox:`0 0 ${rs} ${Du}`,fill:"inherit"}),n=Fe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Fe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=Fe(e("clipPath"),{id:"clip0_57_156"}),a=Fe(e("rect"),{width:`${rs}`,height:`${rs}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function gI({open:e,onFormSubmitted:t,...n}){const r=n.options,s=Nr(()=>({__html:mI().outerHTML}),[]),[o,i]=An(null),a=On(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=On(u=>{n.onSubmitSuccess(u),i(setTimeout(()=>{t(),i(null)},Fw))},[t]);return q(Or,null,o?q("div",{class:"success__position",onClick:a},q("div",{class:"success__content"},r.successMessageText,q("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):q("dialog",{class:"dialog",onClick:r.onFormClose,open:e},q("div",{class:"dialog__position"},q("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},q(dI,{options:r}),q(pI,{...n,onSubmitSuccess:c})))))}const _I=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,yI=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,SI=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,bI=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,EI=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function vI(e){const t=Q.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${_I}
${yI}
${SI}
${bI}
${EI}
`,e&&t.setAttribute("nonce",e),t}function wI(){const e=W().getUser(),t=Ee().getUser(),n=Hi().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const II=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=wI(),a=Q.createElement("div"),c=vI(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){s.removeChild(a),s.removeChild(c),Q.body.style.overflow=u},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=Q.body.style.overflow,Q.body.style.overflow="hidden"},close(){f(!1),Q.body.style.overflow=u}},l=t&&t.createInput({h:q,hooks:cI,dialog:d,options:e}),f=p=>{Zw(q(gI,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&i&&i[o.name]||"",defaultEmail:o&&i&&i[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:h=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(h)},onSubmitError:h=>{e.onSubmitError&&e.onSubmitError(h)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:p}),a)};return d}});function TI({h:e}){return function({top:n,left:r,corner:s,onGrabButton:o}){return e("button",{class:`editor__crop-corner editor__crop-corner--${s} `,style:{top:n,left:r},onMouseDown:i=>{i.preventDefault(),o(i,s)},onClick:i=>{i.preventDefault()}})}}function kI(e){const t=Q.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e&&t.setAttribute("nonce",e),t}function CI({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:s,onError:o}){e.useEffect(()=>{(async()=>{n();const a=await nr.mediaDevices.getDisplayMedia({video:{width:tt.innerWidth*tt.devicePixelRatio,height:tt.innerHeight*tt.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=Q.createElement("video");await new Promise((u,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(l=>l.stop()),u()},c.play().catch(d)}),s()})().catch(o)},[])}}const rr=30,ct=3,Tt=rr+ct,Ne=tt.devicePixelRatio,tr=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Go=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let s=t*r,o=t;s>n&&(s=n,o=n/r);const i=(n-s)/2,a=(t-o)/2;return{startX:i,startY:a,endX:s+i,endY:o+a}};function xI({h:e,hooks:t,imageBuffer:n,dialog:r,options:s}){const o=CI({hooks:t});return function({onError:a}){const c=t.useMemo(()=>({__html:kI(s.styleNonce).innerText}),[]),u=TI({h:e}),d=t.useRef(null),l=t.useRef(null),f=t.useRef(null),[p,h]=t.useState({startX:0,startY:0,endX:0,endY:0}),[g,S]=t.useState(!1),[_,v]=t.useState(!1);t.useEffect(()=>{tt.addEventListener("resize",O,!1)},[]);function O(){const m=f.current,b=tr(Go(n));if(m){m.width=b.width*Ne,m.height=b.height*Ne,m.style.width=`${b.width}px`,m.style.height=`${b.height}px`;const w=m.getContext("2d");w&&w.scale(Ne,Ne)}const T=l.current;T&&(T.style.width=`${b.width}px`,T.style.height=`${b.height}px`),h({startX:0,startY:0,endX:b.width,endY:b.height})}t.useEffect(()=>{const m=f.current;if(!m)return;const b=m.getContext("2d");if(!b)return;const T=tr(Go(n)),w=tr(p);b.clearRect(0,0,T.width,T.height),b.fillStyle="rgba(0, 0, 0, 0.5)",b.fillRect(0,0,T.width,T.height),b.clearRect(w.x,w.y,w.width,w.height),b.strokeStyle="#ffffff",b.lineWidth=3,b.strokeRect(w.x+1,w.y+1,w.width-2,w.height-2),b.strokeStyle="#000000",b.lineWidth=1,b.strokeRect(w.x+3,w.y+3,w.width-6,w.height-6)},[p]);function M(m,b){S(!1),v(!0);const T=k(b),w=()=>{Q.removeEventListener("mousemove",T),Q.removeEventListener("mouseup",w),S(!0),v(!1)};Q.addEventListener("mouseup",w),Q.addEventListener("mousemove",T)}const k=t.useCallback(m=>function(b){if(!f.current)return;const T=f.current,w=T.getBoundingClientRect(),B=b.clientX-w.x,V=b.clientY-w.y;switch(m){case"top-left":h(z=>({...z,startX:Math.min(Math.max(0,B),z.endX-Tt),startY:Math.min(Math.max(0,V),z.endY-Tt)}));break;case"top-right":h(z=>({...z,endX:Math.max(Math.min(B,T.width/Ne),z.startX+Tt),startY:Math.min(Math.max(0,V),z.endY-Tt)}));break;case"bottom-left":h(z=>({...z,startX:Math.min(Math.max(0,B),z.endX-Tt),endY:Math.max(Math.min(V,T.height/Ne),z.startY+Tt)}));break;case"bottom-right":h(z=>({...z,endX:Math.max(Math.min(B,T.width/Ne),z.startX+Tt),endY:Math.max(Math.min(V,T.height/Ne),z.startY+Tt)}));break}},[]),E=t.useRef({initialX:0,initialY:0});function C(m){if(_)return;E.current={initialX:m.clientX,initialY:m.clientY};const b=w=>{const B=f.current;if(!B)return;const V=w.clientX-E.current.initialX,z=w.clientY-E.current.initialY;h(A=>{const ce=Math.max(0,Math.min(A.startX+V,B.width/Ne-(A.endX-A.startX))),F=Math.max(0,Math.min(A.startY+z,B.height/Ne-(A.endY-A.startY))),te=ce+(A.endX-A.startX),Ce=F+(A.endY-A.startY);return E.current.initialX=w.clientX,E.current.initialY=w.clientY,{startX:ce,startY:F,endX:te,endY:Ce}})},T=()=>{Q.removeEventListener("mousemove",b),Q.removeEventListener("mouseup",T)};Q.addEventListener("mousemove",b),Q.addEventListener("mouseup",T)}function R(){const m=Q.createElement("canvas"),b=tr(Go(n)),T=tr(p);m.width=T.width*Ne,m.height=T.height*Ne;const w=m.getContext("2d");w&&n&&w.drawImage(n,T.x/b.width*n.width,T.y/b.height*n.height,T.width/b.width*n.width,T.height/b.height*n.height,0,0,m.width,m.height);const B=n.getContext("2d");B&&(B.clearRect(0,0,n.width,n.height),n.width=m.width,n.height=m.height,n.style.width=`${T.width}px`,n.style.height=`${T.height}px`,B.drawImage(m,0,0),O())}return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(m=>{const b=n.getContext("2d");if(!b)throw new Error("Could not get canvas context");n.width=m.videoWidth,n.height=m.videoHeight,n.style.width="100%",n.style.height="100%",b.drawImage(m,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";const m=d.current;m&&m.appendChild(n),O()},[]),onError:t.useCallback(m=>{r.el.style.display="block",a(m)},[])}),e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__canvas-container",ref:d},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:l},e("canvas",{onMouseDown:C,style:{position:"absolute",cursor:g?"move":"auto"},ref:f}),e(u,{left:p.startX-ct,top:p.startY-ct,onGrabButton:M,corner:"top-left"}),e(u,{left:p.endX-rr+ct,top:p.startY-ct,onGrabButton:M,corner:"top-right"}),e(u,{left:p.startX-ct,top:p.endY-rr+ct,onGrabButton:M,corner:"bottom-left"}),e(u,{left:p.endX-rr+ct,top:p.endY-rr+ct,onGrabButton:M,corner:"bottom-right"}),e("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:g?"flex":"none"},class:"editor__crop-btn-group"},e("button",{onClick:m=>{m.preventDefault(),f.current&&h({startX:0,startY:0,endX:f.current.width/Ne,endY:f.current.height/Ne}),S(!1)},class:"btn btn--default"},s.cancelButtonLabel),e("button",{onClick:m=>{m.preventDefault(),R(),S(!1)},class:"btn btn--primary"},s.confirmButtonLabel)))))}}const RI=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=Q.createElement("canvas");return{input:xI({h:e,hooks:t,imageBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),B1=Af({lazyLoadIntegration:lb}),H1=Af({getModalIntegration:()=>II,getScreenshotIntegration:()=>RI});function MI(e,t=1,n){Ir.increment(Tr,e,t,n)}function AI(e,t,n){Ir.distribution(Tr,e,t,n)}function OI(e,t,n){Ir.set(Tr,e,t,n)}function NI(e,t,n){Ir.gauge(Tr,e,t,n)}function DI(e,t,n="second",r){return Ir.timing(Tr,e,t,n,r)}const W1={increment:MI,distribution:AI,set:OI,gauge:NI,timing:DI},Pu=new WeakMap,Vo=new Map,_s={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function PI(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a}={traceFetch:_s.traceFetch,traceXHR:_s.traceXHR,trackFetchStreamPerformance:_s.trackFetchStreamPerformance,...t},c=typeof o=="function"?o:l=>!0,u=l=>$I(l,a),d={};n&&(e.addEventProcessor(l=>(l.type==="transaction"&&l.spans&&l.spans.forEach(f=>{if(f.op==="http.client"){const p=Vo.get(f.span_id);p&&(f.timestamp=p/1e3,Vo.delete(f.span_id))}}),l)),s&&E_(l=>{if(l.response){const f=Pu.get(l.response);f&&l.endTimestamp&&Vo.set(f,l.endTimestamp)}}),ta(l=>{const f=d_(l,c,u,d);if(l.response&&l.fetchData.__span&&Pu.set(l.response,l.fetchData.__span),f){const p=Wf(l.fetchData.url),h=p?an(p).host:void 0;f.setAttributes({"http.url":p,"server.address":h})}i&&f&&Lu(f)})),r&&ua(l=>{const f=UI(l,c,u,d);i&&f&&Lu(f)})}function LI(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Lu(e){const{url:t}=H(e).data||{};if(!t||typeof t!="string")return;const n=Fn("resource",({entries:r})=>{r.forEach(s=>{LI(s)&&s.name.endsWith(t)&&(FI(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function Qe(e=0){return((ke||performance.timeOrigin)+e)/1e3}function FI(e){const{name:t,version:n}=wd(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ke?[...r,["http.request.redirect_start",Qe(e.redirectStart)],["http.request.fetch_start",Qe(e.fetchStart)],["http.request.domain_lookup_start",Qe(e.domainLookupStart)],["http.request.domain_lookup_end",Qe(e.domainLookupEnd)],["http.request.connect_start",Qe(e.connectStart)],["http.request.secure_connection_start",Qe(e.secureConnectionStart)],["http.request.connection_end",Qe(e.connectEnd)],["http.request.request_start",Qe(e.requestStart)],["http.request.response_start",Qe(e.responseStart)],["http.request.response_end",Qe(e.responseEnd)]]:r}function $I(e,t){const n=I.location&&I.location.href;if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?Pt(r.toString(),t)||o&&Pt(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?Pt(e,t):r}}function UI(e,t,n,r){const s=e.xhr,o=s&&s[At];if(!s||s.__sentry_own_request__||!o)return;const i=zt()&&t(o.url);if(e.endTimestamp&&i){const l=s.__sentry_xhr_span_id__;if(!l)return;const f=r[l];f&&o.status_code!==void 0&&(ul(f,o.status_code),f.end(),delete r[l]);return}const a=Wf(o.url),c=a?an(a).host:void 0,u=!!fe(),d=i&&u?nt({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":c,[Z]:"auto.http.browser",[Oe]:"http.client"}}):new Yt;return s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d,n(o.url)&&BI(s,zt()&&u?d:void 0),d}function BI(e,t){const{"sentry-trace":n,baggage:r}=Vl({span:t});n&&HI(e,n,r)}function HI(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function Wf(e){try{return new URL(e,I.location.origin).href}catch{return}}function WI(){I&&I.document?I.document.addEventListener("visibilitychange",()=>{const e=fe();if(!e)return;const t=me(e);if(I.document.hidden&&t){const n="cancelled",{op:r,status:s}=H(t);G&&y.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:Se,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):G&&y.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const zI="BrowserTracing",jI={...is,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},..._s},Dr=(e={})=>{bl();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:o},beforeStartSpan:i,idleTimeout:a,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:h,enableHTTPTimings:g,instrumentPageLoad:S,instrumentNavigation:_}={...jI,...e},v=My({recordClsStandaloneSpans:o||!1});t&&tS(),r&&L.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Oy():n&&Ay(),s&&Ny();const O={name:void 0,source:void 0};function M(k,E){const C=E.op==="pageload",R=i?i(E):E,m=R.attributes||{};E.name!==R.name&&(m[he]="custom",R.attributes=m),O.name=R.name,O.source=m[he];const b=Ol(R,{idleTimeout:a,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:C,beforeSpanEnd:w=>{v(),$y(w,{recordClsOnPageloadSpan:!o})}});function T(){["interactive","complete"].includes(I.document.readyState)&&k.emit("idleSpanEnableAutoFinish",b)}return C&&I.document&&(I.document.addEventListener("readystatechange",()=>{T()}),T()),b}return{name:zI,afterAllSetup(k){let E,C=I.location&&I.location.href;function R(){E&&!H(E).timestamp&&(G&&y.log(`[Tracing] Finishing current active span with op: ${H(E).op}`),E.end())}k.on("startNavigationSpan",m=>{x()===k&&(R(),E=M(k,{op:"navigation",...m}))}),k.on("startPageLoadSpan",(m,b={})=>{if(x()!==k)return;R();const T=b.sentryTrace||Fu("sentry-trace"),w=b.baggage||Fu("baggage"),B=pl(T,w);W().setPropagationContext(B),E=M(k,{op:"pageload",...m})}),k.on("spanEnd",m=>{const b=H(m).op;if(m!==me(m)||b!=="navigation"&&b!=="pageload")return;const T=W(),w=T.getPropagationContext();T.setPropagationContext({...w,sampled:w.sampled!==void 0?w.sampled:fn(m),dsc:w.dsc||Xt(m)})}),I.location&&(S&&Pr(k,{name:I.location.pathname,startTime:ke?ke/1e3:void 0,attributes:{[he]:"url",[Z]:"auto.pageload.browser"}}),_&&Qs(({to:m,from:b})=>{if(b===void 0&&C&&C.indexOf(m)!==-1){C=void 0;return}b!==m&&(C=void 0,Lr(k,{name:I.location.pathname,attributes:{[he]:"url",[Z]:"auto.navigation.browser"}}))})),d&&WI(),s&&qI(a,c,u,O),t&&rS(),PI(k,{traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,tracePropagationTargets:k.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:g})}}};function Pr(e,t,n){e.emit("startPageLoadSpan",t,n),W().setTransactionName(t.name);const r=fe();return(r&&H(r).op)==="pageload"?r:void 0}function Lr(e,t){Ee().setPropagationContext({traceId:yt()}),W().setPropagationContext({traceId:yt()}),e.emit("startNavigationSpan",t),W().setTransactionName(t.name);const n=fe();return(n&&H(n).op)==="navigation"?n:void 0}function Fu(e){const t=Rp(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function qI(e,t,n,r){let s;const o=()=>{const i="ui.action.click",a=fe(),c=a&&me(a);if(c){const u=H(c).op;if(["navigation","pageload"].includes(u)){G&&y.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(ei,"interactionInterrupted"),s.end(),s=void 0),!r.name){G&&y.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}s=Ol({name:r.name,op:i,attributes:{[he]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};I.document&&addEventListener("click",o,{once:!1,capture:!0})}function Gn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function GI(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Gn(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function Oa(e){return Gn(e.getAllKeys())}function VI(e,t,n){return e(r=>Oa(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Gn(r.transaction)}))}function YI(e,t,n){return e(r=>Oa(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),Gn(r.transaction)}))}function XI(e){return e(t=>Oa(t).then(n=>{const r=n[0];if(r!=null)return Gn(t.get(r)).then(s=>(t.delete(r),Gn(t.transaction).then(()=>s)))}))}function KI(e){let t;function n(){return t==null&&(t=GI(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await Cs(r);await VI(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await Cs(r);await YI(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await XI(n());if(r)return Th(r)}catch{}}}}function JI(e){return t=>{const n=e({...t,createStore:KI});return I.addEventListener("online",async r=>{await n.flush()}),n}}function z1(e=Td){return JI(Nm(e))}const $u=1e6,ys=String(0),ZI="main";let zf="",jf="",qf="",Di=I.navigator&&I.navigator.userAgent||"",Gf="";const QI=I.navigator&&I.navigator.language||I.navigator&&I.navigator.languages&&I.navigator.languages[0]||"";function eT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Uu=I.navigator&&I.navigator.userAgentData;eT(Uu)&&Uu.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(zf=e.platform||"",qf=e.architecture||"",Gf=e.model||"",jf=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];Di=`${t.brand} ${t.version}`}}).catch(e=>{});function tT(e){return!("thread_metadata"in e)}function nT(e){return tT(e)?oT(e):e}function rT(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&G&&y.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function sT(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=rT(r),o=nT(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ae()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:ae()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Ys,runtime:{name:"javascript",version:I.navigator.userAgent},os:{name:zf,version:jf,build_number:Di},device:{locale:QI,model:Gf,manufacturer:Di,architecture:qf,is_emulator:!1},debug_meta:{images:cT(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Ae(),trace_id:s,active_thread_id:ys,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Vf(e){return H(e).op==="pageload"}function oT(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[ys]:{name:ZI}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:ke||0,a=i-(ke||i);return e.samples.forEach((c,u)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[u]={elapsed_since_start_ns:((c.timestamp+a-o)*$u).toFixed(0),stack_id:t,thread_id:ys};return}let d=e.stacks[c.stackId];const l=[];for(;d;){l.push(d.frameId);const p=e.frames[d.frameId];p&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}const f={elapsed_since_start_ns:((c.timestamp+a-o)*$u).toFixed(0),stack_id:n,thread_id:ys};r.stacks[n]=l,r.samples[u]=f,n++}),r}function iT(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function aT(e){const t=[];return dn(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const o=n[s];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(n[s])}}),t}function cT(e){const t=x(),n=t&&t.getOptions(),r=n&&n.stackParser;return r?zh(r,e):[]}function uT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(G&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(G&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function lT(e){return e.samples.length<2?(G&&y.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(G&&y.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Yf=!1;const Xf=3e4;function dT(e){return typeof e=="function"}function fT(){const e=I.Profiler;if(!dT(e)){G&&y.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Xf/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{G&&(y.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),y.log("[Profiling] Disabling profiling for current user session.")),Yf=!0}}function Bu(e){if(Yf)return G&&y.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return G&&y.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x(),n=t&&t.getOptions();if(!n)return G&&y.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return uT(r)?r?(r===!0?!0:Math.random()<r)?!0:(G&&y.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(G&&y.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(G&&y.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function pT(e,t,n,r){return lT(n)?sT(e,t,n,r):null}const rn=new Map;function hT(){return rn.size}function mT(e){const t=rn.get(e);return t&&rn.delete(e),t}function gT(e,t){if(rn.set(e,t),rn.size>30){const n=rn.keys().next().value;rn.delete(n)}}function Hu(e){let t;Vf(e)&&(t=ae()*1e3);const n=fT();if(!n)return;G&&y.log(`[Profiling] started profiling span: ${H(e).description}`);const r=Ae();W().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(I.clearTimeout(o),o=void 0),G&&y.log(`[Profiling] stopped profiling of span: ${H(e).description}`),!c){G&&y.log(`[Profiling] profiler returned null profile for: ${H(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}gT(r,c)}).catch(c=>{G&&y.log("[Profiling] error while stopping profiler:",c)})}let o=I.setTimeout(()=>{G&&y.log("[Profiling] max profile duration elapsed, stopping profiling for:",H(e).description),s()},Xf);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const _T="BrowserProfiling",yT=()=>({name:_T,setup(e){const t=fe(),n=t&&me(t);n&&Vf(n)&&Bu(n)&&Hu(n),e.on("spanStart",r=>{r===me(r)&&Bu(r)&&Hu(r)}),e.on("beforeEnvelope",r=>{if(!hT())return;const s=aT(r);if(!s.length)return;const o=[];for(const i of s){const a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){G&&y.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){G&&y.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;const d=mT(c);if(!d){G&&y.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}const l=pT(c,u,d,i);l&&o.push(l)}iT(r,o)})}}),j1=yT,ST="SpotlightBrowser",bT=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:ST,setup:()=>{G&&y.log("Using Sidecar URL",t)},processEvent:n=>vT(n)?null:n,afterAllSetup:n=>{ET(n,t)}}};function ET(e,t){const n=ca("fetch");let r=0;e.on("beforeEnvelope",s=>{if(r>3){y.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Cs(s),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,y.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}const q1=bT;function vT(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t&&t.includes("#sentry-spotlight")))}const wT=100;function Fr(e){const n=W().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Vn(e,t,n=wT){const r=W().getScopeData().contexts;r.flags||(r.flags={values:[]});const s=r.flags.values;IT(s,e,t,n)}function IT(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){G&&y.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const s=e.findIndex(o=>o.flag===t);s!==-1&&e.splice(s,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}const G1=()=>({name:"FeatureFlags",processEvent(e,t,n){return Fr(e)},addFeatureFlag(e,t){Vn(e,t)}}),V1=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Fr(e)}});function Y1(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Vn(e,t.value)}}}const X1=()=>({name:"OpenFeature",processEvent(e,t,n){return Fr(e)}});class K1{after(t,n){Vn(n.flagKey,n.value)}error(t,n,r){Vn(t.flagKey,t.defaultValue)}}const J1=({unleashClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return Fr(t)},setupOnce(){const t=e.prototype;Me(t,"isEnabled",TT)}});function TT(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?Vn(n,r):G&&y.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const Z1=({featureFlagClient:e})=>({name:"Statsig",processEvent(t,n,r){return Fr(t)},setup(){e.on("gate_evaluation",t=>{Vn(t.gate.name,t.gate.value)})}});function Q1(e){const t={...e};return Gl(t,"react"),Ji("react",{version:Te.version}),cb(t)}function kT(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function CT(e,t){const n=new WeakSet;function r(s,o){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,o);s.cause=o}}r(e,t)}function Kf(e,{componentStack:t},n){if(kT(Te.version)&&dt(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,CT(e,r)}return Xs(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}function ek(e){return(t,n)=>{const r=Kf(t,n);e&&e(t,n,r)}}var Jf={exports:{}},ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=typeof Symbol=="function"&&Symbol.for,Na=ve?Symbol.for("react.element"):60103,Da=ve?Symbol.for("react.portal"):60106,uo=ve?Symbol.for("react.fragment"):60107,lo=ve?Symbol.for("react.strict_mode"):60108,fo=ve?Symbol.for("react.profiler"):60114,po=ve?Symbol.for("react.provider"):60109,ho=ve?Symbol.for("react.context"):60110,Pa=ve?Symbol.for("react.async_mode"):60111,mo=ve?Symbol.for("react.concurrent_mode"):60111,go=ve?Symbol.for("react.forward_ref"):60112,_o=ve?Symbol.for("react.suspense"):60113,xT=ve?Symbol.for("react.suspense_list"):60120,yo=ve?Symbol.for("react.memo"):60115,So=ve?Symbol.for("react.lazy"):60116,RT=ve?Symbol.for("react.block"):60121,MT=ve?Symbol.for("react.fundamental"):60117,AT=ve?Symbol.for("react.responder"):60118,OT=ve?Symbol.for("react.scope"):60119;function Ue(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Na:switch(e=e.type,e){case Pa:case mo:case uo:case fo:case lo:case _o:return e;default:switch(e=e&&e.$$typeof,e){case ho:case go:case So:case yo:case po:return e;default:return t}}case Da:return t}}}function Zf(e){return Ue(e)===mo}ee.AsyncMode=Pa;ee.ConcurrentMode=mo;ee.ContextConsumer=ho;ee.ContextProvider=po;ee.Element=Na;ee.ForwardRef=go;ee.Fragment=uo;ee.Lazy=So;ee.Memo=yo;ee.Portal=Da;ee.Profiler=fo;ee.StrictMode=lo;ee.Suspense=_o;ee.isAsyncMode=function(e){return Zf(e)||Ue(e)===Pa};ee.isConcurrentMode=Zf;ee.isContextConsumer=function(e){return Ue(e)===ho};ee.isContextProvider=function(e){return Ue(e)===po};ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Na};ee.isForwardRef=function(e){return Ue(e)===go};ee.isFragment=function(e){return Ue(e)===uo};ee.isLazy=function(e){return Ue(e)===So};ee.isMemo=function(e){return Ue(e)===yo};ee.isPortal=function(e){return Ue(e)===Da};ee.isProfiler=function(e){return Ue(e)===fo};ee.isStrictMode=function(e){return Ue(e)===lo};ee.isSuspense=function(e){return Ue(e)===_o};ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===uo||e===mo||e===fo||e===lo||e===_o||e===xT||typeof e=="object"&&e!==null&&(e.$$typeof===So||e.$$typeof===yo||e.$$typeof===po||e.$$typeof===ho||e.$$typeof===go||e.$$typeof===MT||e.$$typeof===AT||e.$$typeof===OT||e.$$typeof===RT)};ee.typeOf=Ue;Jf.exports=ee;var NT=Jf.exports,La=NT,DT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},LT={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qf={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fa={};Fa[La.ForwardRef]=LT;Fa[La.Memo]=Qf;function Wu(e){return La.isMemo(e)?Qf:Fa[e.$$typeof]||DT}var FT=Object.defineProperty,$T=Object.getOwnPropertyNames,zu=Object.getOwnPropertySymbols,UT=Object.getOwnPropertyDescriptor,BT=Object.getPrototypeOf,ju=Object.prototype;function ep(e,t,n){if(typeof t!="string"){if(ju){var r=BT(t);r&&r!==ju&&ep(e,r,n)}var s=$T(t);zu&&(s=s.concat(zu(t)));for(var o=Wu(e),i=Wu(t),a=0;a<s.length;++a){var c=s[a];if(!PT[c]&&!(n&&n[c])&&!(i&&i[c])&&!(o&&o[c])){var u=UT(t,c);try{FT(e,c,u)}catch{}}}}return e}var HT=ep;const bo=gp(HT),tp="ui.react.render",WT="ui.react.update",np="ui.react.mount",zT="unknown";class rp extends Te.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=nt({name:`<${n}>`,onlyIfParent:!0,op:np,attributes:{[Z]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=ae();this._updateSpan=Pn(this._mountSpan,()=>nt({name:`<${this.props.name}>`,onlyIfParent:!0,op:WT,startTime:s,attributes:{[Z]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=ae(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=H(this._mountSpan).timestamp;Pn(this._mountSpan,()=>{const o=nt({onlyIfParent:!0,name:`<${n}>`,op:tp,startTime:s,attributes:{[Z]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}rp.__initStatic();function tk(e,t){const n=t&&t.name||e.displayName||e.name||zT,r=s=>Te.createElement(rp,{...t,name:n,updateProps:s},Te.createElement(e,{...s}));return r.displayName=`profiler(${n})`,bo(r,e),r}function nk(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=Te.useState(()=>{if(!(t&&t.disabled))return nt({name:`<${e}>`,onlyIfParent:!0,op:np,attributes:{[Z]:"auto.ui.react.profiler","ui.component_name":e}})});Te.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=H(n).timestamp,s=ae(),o=nt({name:`<${e}>`,onlyIfParent:!0,op:tp,startTime:r,attributes:{[Z]:"auto.ui.react.profiler","ui.component_name":e}});o&&o.end(s)}}),[])}const $r=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,jT="unknown",qu={componentStack:null,error:null,eventId:null};class $a extends Te.Component{constructor(t){super(t),$a.prototype.__init.call(this),this.state=qu,this._openFallbackReportDialog=!0;const n=x();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Lc({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,s=r??void 0,{beforeCapture:o,onError:i,showDialog:a,dialogOptions:c}=this.props;qe(u=>{o&&o(u,t,s);const d=this.props.handled!=null?this.props.handled:!!this.props.fallback,l=Kf(t,n,{mechanism:{handled:d}});i&&i(t,s,l),a&&(this._lastEventId=l,this._openFallbackReportDialog&&Lc({...c,eventId:l})),this.setState({error:t,componentStack:r,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(qu)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=Te.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,Te.isValidElement(s)?s:(t&&$r&&y.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function rk(e,t){const n=e.displayName||e.name||jT,r=s=>Te.createElement($a,{...t},Te.createElement(e,{...s}));return r.displayName=`errorBoundary(${n})`,bo(r,e),r}const qT="redux.action",GT="info",VT={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function sk(e){const t={...VT,...e};return n=>(r,s)=>(t.attachReduxState&&Hi().addEventProcessor((i,a)=>{try{i.type===void 0&&i.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(i.contexts.state.state.value)}])}catch{}return i}),n((i,a)=>{const c=r(i,a),u=W(),d=t.actionTransformer(a);typeof d<"u"&&d!==null&&st({category:qT,data:d,type:GT});const l=t.stateTransformer(c);if(typeof l<"u"&&l!==null){const p=x(),h=p&&p.getOptions(),g=h&&h.normalizeDepth||3,S={state:{type:"redux",value:l}};Pe(S,"__sentry_override_normalization_depth__",3+g),u.setContext("state",S)}else u.setContext("state",null);const{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},s))}function ok(e){const t=Dr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),o&&I&&I.location&&Gu(r,I.location,s,(c,u="url")=>{Pr(a,{name:c,attributes:{[Oe]:"pageload",[Z]:"auto.pageload.react.reactrouter_v3",[he]:u}})}),i&&n.listen&&n.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&Gu(r,c,s,(u,d="url")=>{Lr(a,{name:u,attributes:{[Oe]:"navigation",[Z]:"auto.navigation.react.reactrouter_v3",[he]:d}})})})}}}function Gu(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(o,i,a)=>{if(o||!a)return r(s);const c=YT(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function YT(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--){const s=t[r];if(s.path&&s.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}function ik(e,t={}){const n=e,r=Dr({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:s=!0,instrumentNavigation:o=!0}=t;return{...r,afterAllSetup(i){r.afterAllSetup(i);const a=I.location;if(s&&a){const c=n.matchRoutes(a.pathname,n.options.parseSearch(a.search),{preload:!1,throwOnError:!1}),u=c[c.length-1];Pr(i,{name:u?u.routeId:a.pathname,attributes:{[Oe]:"pageload",[Z]:"auto.pageload.react.tanstack_router",[he]:u?"route":"url",...Vu(u)}})}o&&n.subscribe("onBeforeNavigate",c=>{const u=c.fromLocation&&c.fromLocation.state;if(c.toLocation.state===u)return;const d=n.matchRoutes(c.toLocation.pathname,c.toLocation.search,{preload:!1,throwOnError:!1}),l=d[d.length-1],f=I.location,p=Lr(i,{name:l?l.routeId:f.pathname,attributes:{[Oe]:"navigation",[Z]:"auto.navigation.react.tanstack_router",[he]:l?"route":"url"}}),h=n.subscribe("onResolved",g=>{if(h(),p){const S=n.matchRoutes(g.toLocation.pathname,g.toLocation.search,{preload:!1,throwOnError:!1}),_=S[S.length-1];_&&(p.updateName(_.routeId),p.setAttribute(he,"route"),p.setAttributes(Vu(_)))}})})}}}function Vu(e){if(!e)return{};const t={};return Object.entries(e.params).forEach(([n,r])=>{t[`url.path.params.${n}`]=r}),t}function ak(e){const t=Dr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),sp(a,o,i,n,"reactrouter_v4",r,s)}}}function ck(e){const t=Dr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),sp(a,o,i,n,"reactrouter_v5",r,s)}}}function sp(e,t,n,r,s,o=[],i){function a(){if(r&&r.location)return r.location.pathname;if(I&&I.location)return I.location.pathname}function c(u){if(o.length===0||!i)return[u,"url"];const d=op(o,u,i);for(const l of d)if(l.match.isExact)return[l.match.path,"route"];return[u,"url"]}if(t){const u=a();if(u){const[d,l]=c(u);Pr(e,{name:d,attributes:{[Oe]:"pageload",[Z]:`auto.pageload.react.${s}`,[he]:l}})}}n&&r.listen&&r.listen((u,d)=>{if(d&&(d==="PUSH"||d==="POP")){const[l,f]=c(u.pathname);Lr(e,{name:l,attributes:{[Oe]:"navigation",[Z]:`auto.navigation.react.${s}`,[he]:f}})}})}function op(e,t,n,r=[]){return e.some(s=>{const o=s.path?n(t,s):r.length?r[r.length-1].match:XT(t);return o&&(r.push({route:s,match:o}),s.routes&&op(s.routes,t,n,r)),!!o}),r}function XT(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function uk(e){const t=e.displayName||e.name,n=r=>{if(r&&r.computedMatch&&r.computedMatch.isExact){const s=r.computedMatch.path,o=KT();W().setTransactionName(s),o&&(o.updateName(s),o.setAttribute(he,"route"))}return Te.createElement(e,{...r})};return n.displayName=`sentryRoute(${t})`,bo(n,e),n}function KT(){const e=fe(),t=e&&me(e);if(!t)return;const n=H(t).op;return n==="navigation"||n==="pageload"?t:void 0}let Ft,$t,Ut,Ss,ot,Rn=!1;const ip=new WeakSet,$e=new Set;function ap(e,t){return!Ft||!$t||!Ut||!ot?($r&&y.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createRouter\` function because of one or more missing parameters.`),e):function(n,r){n.forEach(a=>{$e.add(a)});const s=e(n,r),o=r&&r.basename,i=vo();return s.state.historyAction==="POP"&&i&&Eo(i,s.state.location,n,void 0,o,Array.from($e)),s.subscribe(a=>{(a.historyAction==="PUSH"||a.historyAction==="POP")&&(a.navigation.state!=="idle"?requestAnimationFrame(()=>{_r({location:a.location,routes:n,navigationType:a.historyAction,version:t,basename:o,allRoutes:Array.from($e)})}):_r({location:a.location,routes:n,navigationType:a.historyAction,version:t,basename:o,allRoutes:Array.from($e)}))}),s}}function cp(e,t){return!Ft||!$t||!Ut||!ot?($r&&y.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createMemoryRouter\` function because of one or more missing parameters.`),e):function(n,r){n.forEach(p=>{$e.add(p)});const s=e(n,r),o=r?r.basename:void 0,i=vo();let a;const c=r?r.initialEntries:void 0,u=r?r.initialIndex:void 0,d=c&&c.length===1,l=u!==void 0&&c&&c[u];a=d?c[0]:l?c[u]:void 0;const f=a?typeof a=="string"?{pathname:a}:a:s.state.location;return s.state.historyAction==="POP"&&i&&Eo(i,f,n,void 0,o,Array.from($e)),s.subscribe(p=>{const h=p.location;(p.historyAction==="PUSH"||p.historyAction==="POP")&&_r({location:h,routes:n,navigationType:p.historyAction,version:t,basename:o,allRoutes:Array.from($e)})}),s}}function up(e,t){const n=Dr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:r,useLocation:s,useNavigationType:o,createRoutesFromChildren:i,matchRoutes:a,stripBasename:c,instrumentPageLoad:u=!0,instrumentNavigation:d=!0}=e;return{...n,setup(){Ft=r,$t=s,Ut=o,ot=a,Ss=i,Rn=c||!1},afterAllSetup(l){n.afterAllSetup(l);const f=I&&I.location&&I.location.pathname;u&&f&&Pr(l,{name:f,attributes:{[he]:"url",[Oe]:"pageload",[Z]:`auto.pageload.react.reactrouter_v${t}`}}),d&&ip.add(l)}}}function lp(e,t){if(!Ft||!$t||!Ut||!ot)return $r&&y.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;const n=r=>{const s=Te.useRef(!0),{routes:o,locationArg:i}=r,a=e(o,i),c=$t(),u=Ut(),d=typeof i=="string"||i&&i.pathname?i:c;return Ft(()=>{const l=typeof d=="string"?{pathname:d}:d;s.current?(o.forEach(f=>{Ua(f).forEach(h=>{$e.add(h)})}),Eo(vo(),l,o,void 0,void 0,Array.from($e)),s.current=!1):_r({location:l,routes:o,navigationType:u,version:t,allRoutes:Array.from($e)})},[u,d]),a};return(r,s)=>Te.createElement(n,{routes:r,locationArg:s})}function _r(e){const{location:t,routes:n,navigationType:r,version:s,matches:o,basename:i,allRoutes:a}=e,c=Array.isArray(o)?o:ot(n,t,i),u=x();if(!(!u||!ip.has(u))&&(r==="PUSH"||r==="POP")&&c){let d,l="url";const f=fp(t,a||n);f&&(d=yr(Ba(a||n,t)),l="route"),(!f||!d)&&([d,l]=pp(n,t,c,i)),Lr(u,{name:d,attributes:{[he]:l,[Oe]:"navigation",[Z]:`auto.navigation.react.reactrouter_v${s}`}})}}function zs(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function JT(e,t,n){const r=e||Rn?zs(t,n):t;return[r[r.length-1]==="/"||r.slice(-2)==="/*"?r.slice(0,-1):r,"route"]}function dp(e){return e.endsWith("*")}function Yu(e,t){return dp(e)&&t.route.children&&t.route.children.length>0||!1}function ZT(e){return!!(!e.children&&e.element&&e.path&&e.path.endsWith("/*"))}function fp(e,t){const n=ot(t,e);if(n){for(const r of n)if(ZT(r.route)&&e1(r))return!0}return!1}function Ua(e,t=new Set){return t.has(e)||(t.add(e),e.children&&!e.index&&e.children.forEach(n=>{Ua(n,t).forEach(s=>t.add(s))})),t}function QT(e){return t1(e.route.path||"")}function e1(e){return e.params["*"]||""}function t1(e){return e[e.length-1]==="*"?e.slice(0,-1):e}function lr(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function yr(e){return e[0]==="/"?e:`/${e}`}function Ba(e,t){const n=ot(e,t);if(!n||n.length===0)return"";for(const r of n)if(r.route.path&&r.route.path!=="*"){const s=QT(r),o=zs(t.pathname,yr(r.pathnameBase));return lr(lr(s||"")+yr(Ba(e.filter(i=>i!==r.route),{pathname:o})))}return""}function pp(e,t,n,r=""){if(!e||e.length===0)return[Rn?zs(t.pathname,r):t.pathname,"url"];let s="";if(n)for(const i of n){const a=i.route;if(a){if(a.index)return JT(s,i.pathname,r);const c=a.path;if(c&&!Yu(c,i)){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s=lr(s)+yr(u),lr(t.pathname)===lr(r+i.pathname))return vc(s)!==vc(i.pathname)&&!dp(s)?[(Rn?"":r)+u,"route"]:(Yu(s,i)&&(s=s.slice(0,-1)),[(Rn?"":r)+s,"route"])}}}return[Rn?zs(t.pathname,r):t.pathname||"/","url"]}function Eo(e,t,n,r,s,o){const i=Array.isArray(r)?r:ot(o||n,t,s);if(i){let a,c="url";const u=fp(t,o||n);u&&(a=yr(Ba(o||n,t)),c="route"),(!u||!a)&&([a,c]=pp(n,t,i,s)),W().setTransactionName(a||"/"),e&&(e.updateName(a),e.setAttribute(he,c))}}function hp(e,t){if(!Ft||!$t||!Ut||!Ss||!ot)return $r&&y.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Ft}. useLocation: ${$t}. useNavigationType: ${Ut}.
      createRoutesFromChildren: ${Ss}. matchRoutes: ${ot}.`),e;const n=r=>{const s=Te.useRef(!0),o=$t(),i=Ut();return Ft(()=>{const a=Ss(r.children);s.current?(a.forEach(c=>{Ua(c).forEach(d=>{$e.add(d)})}),Eo(vo(),o,a,void 0,void 0,Array.from($e)),s.current=!1):_r({location:o,routes:a,navigationType:i,version:t,allRoutes:Array.from($e)})},[o,i]),Te.createElement(e,{...r})};return bo(n,e),n}function vo(){const e=fe(),t=e?me(e):void 0;if(!t)return;const n=H(t).op;return n==="navigation"||n==="pageload"?t:void 0}function lk(e){return up(e,"6")}function n1(e){return lp(e,"6")}const dk=n1;function r1(e){return ap(e,"6")}const fk=r1;function pk(e){return cp(e,"6")}function hk(e){return hp(e,"6")}function mk(e){return up(e,"7")}function gk(e){return hp(e,"7")}function _k(e){return ap(e,"7")}function yk(e){return cp(e,"7")}function Sk(e){return lp(e,"7")}export{q_ as BrowserClient,$a as ErrorBoundary,K1 as OpenFeatureIntegrationHook,rp as Profiler,Nt as SDK_VERSION,Oe as SEMANTIC_ATTRIBUTE_SENTRY_OP,Z as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,al as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,he as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,Wt as Scope,I as WINDOW,st as addBreadcrumb,pm as addEventProcessor,pc as addIntegration,a1 as addTracingExtensions,xS as breadcrumbsIntegration,US as browserApiErrorsIntegration,j1 as browserProfilingIntegration,jS as browserSessionIntegration,Dr as browserTracingIntegration,Y1 as buildLaunchDarklyFlagUsedHandler,S1 as captureConsoleIntegration,wr as captureEvent,Xs as captureException,__ as captureFeedback,ii as captureMessage,lc as captureSession,O1 as captureUserFeedback,pS as chromeStackLineParser,h1 as close,P1 as contextLinesIntegration,l1 as continueTrace,sk as createReduxEnhancer,Am as createTransport,z_ as createUserFeedbackEnvelope,b1 as debugIntegration,gg as dedupeIntegration,_s as defaultRequestInstrumentationOptions,IS as defaultStackLineParsers,TS as defaultStackParser,xs as endSession,$_ as eventFromException,U_ as eventFromMessage,na as exceptionFromError,E1 as extraErrorDataIntegration,G1 as featureFlagsIntegration,B1 as feedbackAsyncIntegration,H1 as feedbackIntegration,H1 as feedbackSyncIntegration,p1 as flush,M1 as forceLoad,Wm as functionToStringIntegration,_S as geckoStackLineParser,fe as getActiveSpan,x as getClient,k1 as getCurrentHub,W as getCurrentScope,ob as getDefaultIntegrations,U1 as getFeedback,Hi as getGlobalScope,Ee as getIsolationScope,F1 as getReplay,me as getRootSpan,os as getSpanDescendants,Kp as getSpanStatusFromHttpCode,VS as globalHandlersIntegration,D1 as httpClientIntegration,QS as httpContextIntegration,Gm as inboundFiltersIntegration,Q1 as init,PI as instrumentOutgoingRequests,m1 as isInitialized,dm as lastEventId,V1 as launchDarklyIntegration,lb as lazyLoadIntegration,sb as linkedErrorsIntegration,z1 as makeBrowserOfflineTransport,Td as makeFetchTransport,g1 as makeMultiplexedTransport,W1 as metrics,y1 as moduleMetadataIntegration,A1 as onLoad,X1 as openFeatureIntegration,x1 as opera10StackLineParser,R1 as opera11StackLineParser,_1 as parameterize,ek as reactErrorHandler,ok as reactRouterV3BrowserTracingIntegration,ak as reactRouterV4BrowserTracingIntegration,ck as reactRouterV5BrowserTracingIntegration,lk as reactRouterV6BrowserTracingIntegration,mk as reactRouterV7BrowserTracingIntegration,bl as registerSpanErrorInstrumentation,$1 as replayCanvasIntegration,L1 as replayIntegration,N1 as reportingObserverIntegration,v1 as rewriteFramesIntegration,$w as sendFeedback,w1 as sessionTimingIntegration,Ji as setContext,km as setCurrentClient,am as setExtra,im as setExtras,ul as setHttpStatus,Nh as setMeasurement,um as setTag,cm as setTags,lm as setUser,Lc as showReportDialog,c1 as spanToBaggageHeader,H as spanToJSON,sh as spanToTraceHeader,q1 as spotlightBrowserIntegration,Lr as startBrowserTracingNavigationSpan,Pr as startBrowserTracingPageLoadSpan,nt as startInactiveSpan,f1 as startNewTrace,ai as startSession,u1 as startSpan,Lh as startSpanManual,Z1 as statsigIntegration,d1 as suppressTracing,ik as tanstackRouterBrowserTracingIntegration,T1 as thirdPartyErrorFilterIntegration,J1 as unleashIntegration,i1 as updateSpanName,nk as useProfiler,C1 as winjsStackLineParser,Pn as withActiveSpan,rk as withErrorBoundary,o1 as withIsolationScope,tk as withProfiler,qe as withScope,hk as withSentryReactRouterV6Routing,gk as withSentryReactRouterV7Routing,uk as withSentryRouting,fk as wrapCreateBrowserRouter,r1 as wrapCreateBrowserRouterV6,_k as wrapCreateBrowserRouterV7,pk as wrapCreateMemoryRouterV6,yk as wrapCreateMemoryRouterV7,dk as wrapUseRoutes,n1 as wrapUseRoutesV6,Sk as wrapUseRoutesV7,I1 as zodErrorsIntegration};
